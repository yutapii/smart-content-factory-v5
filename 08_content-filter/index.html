<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Éï„Ç£„É´„Çø„Éº - SCF V5</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, system-ui, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #333;
            font-size: 32px;
            margin-bottom: 10px;
        }

        .stats {
            display: flex;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            background: #f0f0f0;
            border-radius: 10px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            color: #666;
            font-size: 14px;
        }

        .filter-controls {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .filter-section {
            margin-bottom: 20px;
        }

        .filter-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }

        .category-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .category-btn {
            padding: 10px 20px;
            border-radius: 25px;
            border: 2px solid #ddd;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .category-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .category-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .category-count {
            background: rgba(0, 0, 0, 0.1);
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }

        .time-filter {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .time-btn {
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 13px;
        }

        .time-btn.active {
            background: #764ba2;
            color: white;
            border-color: #764ba2;
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .search-input {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
        }

        .search-input:focus {
            border-color: #667eea;
        }

        .search-btn {
            padding: 12px 30px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .search-btn:hover {
            background: #5a67d8;
        }

        .articles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .article-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .article-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .article-category {
            display: inline-block;
            padding: 5px 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .article-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .article-description {
            color: #666;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 15px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .article-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #999;
            font-size: 12px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        .article-source {
            font-weight: bold;
            color: #667eea;
        }

        .relevance-score {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #ff6b6b;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        .load-more {
            text-align: center;
            margin: 40px 0;
        }

        .load-more-btn {
            padding: 15px 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .load-more-btn:hover {
            transform: scale(1.05);
        }

        .loading {
            text-align: center;
            padding: 50px;
            color: white;
            font-size: 18px;
        }

        .no-results {
            text-align: center;
            padding: 50px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            color: #666;
            font-size: 18px;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .loading-animation {
            animation: pulse 1.5s infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div style="position: relative;">
                <h1>üéØ AI„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Éï„Ç£„É´„Çø„Éº</h1>
                <p>AI„Éª„É≠„Éú„ÉÉ„Éà„ÉªËá™ÂãïÈÅãËª¢„ÉªÈÄö‰ø°Èñ¢ÈÄ£„ÅÆË®ò‰∫ã„ÇíËá™Âãï„Éï„Ç£„É´„Çø„É™„É≥„Ç∞</p>
                <div style="position: absolute; top: 0; right: 0; display: flex; gap: 10px;">
                    <a href="../07_ai-trend-map/index.html" style="background: rgba(255, 255, 255, 0.2); color: white; padding: 8px 16px; border-radius: 20px; text-decoration: none; font-size: 14px;">‚Üê [07] „Éà„É¨„É≥„Éâ„Éû„ÉÉ„Éó</a>
                    <a href="../index.html" style="background: rgba(255, 255, 255, 0.2); color: white; padding: 8px 16px; border-radius: 20px; text-decoration: none; font-size: 14px;">üè† „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</a>
                </div>
            </div>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-value" id="total-articles">0</span>
                    <span class="stat-label">Á∑èË®ò‰∫ãÊï∞</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="filtered-articles">0</span>
                    <span class="stat-label">„Éï„Ç£„É´„Çø„ÉºÊ∏à„Åø</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="relevance-rate">0%</span>
                    <span class="stat-label">Èñ¢ÈÄ£Â∫¶</span>
                </div>
            </div>
        </div>

        <div class="filter-controls">
            <div class="filter-section">
                <div class="filter-title">„Ç´„ÉÜ„Ç¥„É™„Éº„Éï„Ç£„É´„Çø„Éº</div>
                <div class="category-filters" id="category-filters">
                    <button class="category-btn active" data-category="all">
                        „Åô„Åπ„Å¶ <span class="category-count">0</span>
                    </button>
                    <button class="category-btn" data-category="ai">
                        ü§ñ AI„ÉªÊ©üÊ¢∞Â≠¶Áøí <span class="category-count">0</span>
                    </button>
                    <button class="category-btn" data-category="robot">
                        ü¶æ „É≠„Éú„ÉÉ„Éà <span class="category-count">0</span>
                    </button>
                    <button class="category-btn" data-category="autonomous">
                        üöó Ëá™ÂãïÈÅãËª¢ <span class="category-count">0</span>
                    </button>
                    <button class="category-btn" data-category="communication">
                        üì° ÈÄö‰ø°„Éª5G/6G <span class="category-count">0</span>
                    </button>
                    <button class="category-btn" data-category="quantum">
                        ‚öõÔ∏è ÈáèÂ≠ê„Ç≥„É≥„Éî„É•„Éº„Çø <span class="category-count">0</span>
                    </button>
                </div>
            </div>

            <div class="filter-section">
                <div class="filter-title">ÊôÇÈñì„Éï„Ç£„É´„Çø„Éº</div>
                <div class="time-filter">
                    <button class="time-btn active" data-time="all">„Åô„Åπ„Å¶</button>
                    <button class="time-btn" data-time="today">‰ªäÊó•</button>
                    <button class="time-btn" data-time="week">‰ªäÈÄ±</button>
                    <button class="time-btn" data-time="month">‰ªäÊúà</button>
                </div>
            </div>

            <div class="filter-section">
                <div class="filter-title">„Ç≠„Éº„ÉØ„Éº„ÉâÊ§úÁ¥¢</div>
                <div class="search-box">
                    <input type="text" class="search-input" id="search-input" placeholder="„Ç≠„Éº„ÉØ„Éº„Éâ„ÇíÂÖ•ÂäõÔºà‰æãÔºöGPT, Claude, TeslaÔºâ">
                    <button class="search-btn" onclick="searchArticles()">Ê§úÁ¥¢</button>
                </div>
            </div>
        </div>

        <div id="articles-container">
            <div class="loading loading-animation">Ë®ò‰∫ã„ÇíË™≠„ÅøËæº„Åø‰∏≠...</div>
        </div>

        <div class="load-more" id="load-more" style="display: none;">
            <button class="load-more-btn" onclick="loadMoreArticles()">„Åï„Çâ„Å´Ë°®Á§∫</button>
        </div>
    </div>

    <script>
        let allArticles = [];
        let filteredArticles = [];
        let displayedCount = 0;
        const articlesPerPage = 12;
        let currentCategory = 'all';
        let currentTimeFilter = 'all';
        let currentSearchTerm = '';

        // „Ç´„ÉÜ„Ç¥„É™„ÉºÂÆöÁæ©
        const categories = {
            ai: {
                keywords: ['ai', 'artificial intelligence', '‰∫∫Â∑•Áü•ËÉΩ', 'machine learning', 'Ê©üÊ¢∞Â≠¶Áøí', 
                          'deep learning', '„Éá„Ç£„Éº„Éó„É©„Éº„Éã„É≥„Ç∞', 'neural network', '„Éã„É•„Éº„É©„É´„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ',
                          'gpt', 'claude', 'llm', 'Â§ßË¶èÊ®°Ë®ÄË™û„É¢„Éá„É´', 'chatbot', '„ÉÅ„É£„ÉÉ„Éà„Éú„ÉÉ„Éà'],
                icon: 'ü§ñ'
            },
            robot: {
                keywords: ['robot', '„É≠„Éú„ÉÉ„Éà', 'robotics', '„É≠„Éú„ÉÜ„Ç£„ÇØ„Çπ', 'automation', 'Ëá™ÂãïÂåñ',
                          'humanoid', '„Éí„É•„Éº„Éû„Éé„Ç§„Éâ', 'drone', '„Éâ„É≠„Éº„É≥', 'cobots', 'ÂçîÂÉç„É≠„Éú„ÉÉ„Éà'],
                icon: 'ü¶æ'
            },
            autonomous: {
                keywords: ['autonomous', 'Ëá™ÂãïÈÅãËª¢', 'self-driving', 'autopilot', '„Ç™„Éº„Éà„Éë„Ç§„É≠„ÉÉ„Éà',
                          'adas', 'waymo', 'cruise', 'tesla', '„ÉÜ„Çπ„É©', 'lidar', '„É©„Ç§„ÉÄ„Éº'],
                icon: 'üöó'
            },
            communication: {
                keywords: ['5g', '6g', 'iot', 'internet of things', '„É¢„Éé„ÅÆ„Ç§„É≥„Çø„Éº„Éç„ÉÉ„Éà', 
                          'edge computing', '„Ç®„ÉÉ„Ç∏„Ç≥„É≥„Éî„É•„Éº„ÉÜ„Ç£„É≥„Ç∞', 'network', '„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ',
                          'wireless', '„ÉØ„Ç§„É§„É¨„Çπ', 'telecommunications', 'ÈÄö‰ø°'],
                icon: 'üì°'
            },
            quantum: {
                keywords: ['quantum', 'ÈáèÂ≠ê', 'quantum computing', 'ÈáèÂ≠ê„Ç≥„É≥„Éî„É•„Éº„Çø', 'qubit', 'ÈáèÂ≠ê„Éì„ÉÉ„Éà',
                          'quantum supremacy', 'ÈáèÂ≠êË∂ÖË∂äÊÄß', 'quantum algorithm', 'ÈáèÂ≠ê„Ç¢„É´„Ç¥„É™„Ç∫„É†'],
                icon: '‚öõÔ∏è'
            }
        };

        // Ë®ò‰∫ã„ÅÆ„Ç´„ÉÜ„Ç¥„É™„ÉºÂà§ÂÆö
        function categorizeArticle(article) {
            const text = `${article.title} ${article.description} ${article.category || ''}`.toLowerCase();
            const articleCategories = [];
            let maxScore = 0;
            let primaryCategory = null;

            for (const [catKey, catData] of Object.entries(categories)) {
                let score = 0;
                for (const keyword of catData.keywords) {
                    if (text.includes(keyword.toLowerCase())) {
                        score += keyword.length; // Èï∑„ÅÑ„Ç≠„Éº„ÉØ„Éº„Éâ„Åª„Å©È´ò„Çπ„Ç≥„Ç¢
                    }
                }
                if (score > 0) {
                    articleCategories.push(catKey);
                    if (score > maxScore) {
                        maxScore = score;
                        primaryCategory = catKey;
                    }
                }
            }

            return {
                categories: articleCategories,
                primary: primaryCategory,
                score: maxScore
            };
        }

        // Ë®ò‰∫ã„ÅÆ„Éï„Ç£„É´„Çø„É™„É≥„Ç∞
        function filterArticles() {
            filteredArticles = allArticles.filter(article => {
                // „Ç´„ÉÜ„Ç¥„É™„Éº„Éï„Ç£„É´„Çø„Éº
                if (currentCategory !== 'all') {
                    const articleCats = categorizeArticle(article);
                    if (!articleCats.categories.includes(currentCategory)) {
                        return false;
                    }
                }

                // ÊôÇÈñì„Éï„Ç£„É´„Çø„Éº
                if (currentTimeFilter !== 'all') {
                    const pubDate = new Date(article.pubDate);
                    const now = new Date();
                    const daysDiff = (now - pubDate) / (1000 * 60 * 60 * 24);

                    if (currentTimeFilter === 'today' && daysDiff > 1) return false;
                    if (currentTimeFilter === 'week' && daysDiff > 7) return false;
                    if (currentTimeFilter === 'month' && daysDiff > 30) return false;
                }

                // Ê§úÁ¥¢„Éï„Ç£„É´„Çø„Éº
                if (currentSearchTerm) {
                    const searchText = `${article.title} ${article.description}`.toLowerCase();
                    if (!searchText.includes(currentSearchTerm.toLowerCase())) {
                        return false;
                    }
                }

                return true;
            });

            // Èñ¢ÈÄ£Â∫¶„Åß„ÇΩ„Éº„Éà
            filteredArticles.sort((a, b) => {
                const scoreA = categorizeArticle(a).score;
                const scoreB = categorizeArticle(b).score;
                return scoreB - scoreA;
            });

            updateStats();
            displayedCount = 0;
            displayArticles();
        }

        // Áµ±Ë®àÊÉÖÂ†±„ÅÆÊõ¥Êñ∞
        function updateStats() {
            document.getElementById('total-articles').textContent = allArticles.length;
            document.getElementById('filtered-articles').textContent = filteredArticles.length;
            const rate = allArticles.length > 0 ? 
                Math.round((filteredArticles.length / allArticles.length) * 100) : 0;
            document.getElementById('relevance-rate').textContent = rate + '%';

            // „Ç´„ÉÜ„Ç¥„É™„Éº„Ç´„Ç¶„É≥„Éà„ÅÆÊõ¥Êñ∞
            const counts = { all: filteredArticles.length };
            for (const catKey of Object.keys(categories)) {
                counts[catKey] = 0;
            }

            filteredArticles.forEach(article => {
                const articleCats = categorizeArticle(article);
                articleCats.categories.forEach(cat => {
                    counts[cat] = (counts[cat] || 0) + 1;
                });
            });

            document.querySelectorAll('.category-btn').forEach(btn => {
                const category = btn.dataset.category;
                const count = counts[category] || 0;
                btn.querySelector('.category-count').textContent = count;
            });
        }

        // Ë®ò‰∫ã„ÅÆË°®Á§∫
        function displayArticles() {
            const container = document.getElementById('articles-container');
            
            if (displayedCount === 0) {
                container.innerHTML = '';
            }

            if (filteredArticles.length === 0) {
                container.innerHTML = '<div class="no-results">Ë©≤ÂΩì„Åô„ÇãË®ò‰∫ã„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü</div>';
                document.getElementById('load-more').style.display = 'none';
                return;
            }

            const articlesToShow = filteredArticles.slice(displayedCount, displayedCount + articlesPerPage);
            
            if (displayedCount === 0) {
                const grid = document.createElement('div');
                grid.className = 'articles-grid';
                grid.id = 'articles-grid';
                container.appendChild(grid);
            }

            const grid = document.getElementById('articles-grid');
            
            articlesToShow.forEach(article => {
                const catInfo = categorizeArticle(article);
                const card = document.createElement('div');
                card.className = 'article-card';
                
                const relevanceScore = Math.min(100, Math.round((catInfo.score / 50) * 100));
                
                card.innerHTML = `
                    ${relevanceScore > 70 ? `<div class="relevance-score">${relevanceScore}%</div>` : ''}
                    <div class="article-category">${categories[catInfo.primary]?.icon || 'üì∞'} ${catInfo.primary || '„Åù„ÅÆ‰ªñ'}</div>
                    <h3 class="article-title">${article.title}</h3>
                    <p class="article-description">${article.description || ''}</p>
                    <div class="article-meta">
                        <span class="article-source">${article.feedName || 'Unknown'}</span>
                        <span>${new Date(article.pubDate).toLocaleDateString('ja-JP')}</span>
                    </div>
                `;
                
                card.onclick = () => {
                    if (article.link) {
                        window.open(article.link, '_blank');
                    }
                };
                
                grid.appendChild(card);
            });

            displayedCount += articlesToShow.length;
            
            // „ÇÇ„Å£„Å®Ë¶ã„Çã„Éú„Çø„É≥„ÅÆË°®Á§∫/ÈùûË°®Á§∫
            document.getElementById('load-more').style.display = 
                displayedCount < filteredArticles.length ? 'block' : 'none';
        }

        // „ÇÇ„Å£„Å®Ë™≠„ÅøËæº„ÇÄ
        function loadMoreArticles() {
            displayArticles();
        }

        // Ê§úÁ¥¢ÂÆüË°å
        function searchArticles() {
            currentSearchTerm = document.getElementById('search-input').value;
            filterArticles();
        }

        // „Ç´„ÉÜ„Ç¥„É™„Éº„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„ÉàË®≠ÂÆö
        document.querySelectorAll('.category-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentCategory = this.dataset.category;
                filterArticles();
            });
        });

        // ÊôÇÈñì„Éï„Ç£„É´„Çø„Éº„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„ÉàË®≠ÂÆö
        document.querySelectorAll('.time-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.time-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentTimeFilter = this.dataset.time;
                filterArticles();
            });
        });

        // Enter„Ç≠„Éº„ÅßÊ§úÁ¥¢
        document.getElementById('search-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchArticles();
            }
        });

        // „Éá„Éº„Çø„Éô„Éº„Çπ„Åã„ÇâË®ò‰∫ã„ÇíË™≠„ÅøËæº„Åø
        async function loadArticles() {
            try {
                console.log('„Éá„Éº„Çø„Éô„Éº„ÇπË™≠„ÅøËæº„ÅøÈñãÂßã...');
                
                // LocalStorage„Åã„Çâ06_database„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó
                const savedData = localStorage.getItem('06_database_articles');
                
                if (savedData) {
                    console.log('LocalStorage„Åã„Çâ„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø');
                    allArticles = JSON.parse(savedData);
                    console.log(`ÂÖ®Ë®ò‰∫ãÊï∞: ${allArticles.length}`);
                    
                    if (allArticles.length === 0) {
                        document.getElementById('articles-container').innerHTML = 
                            '<div class="no-results">Ë®ò‰∫ã„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ05_rss-reader„ÅßË®ò‰∫ã„ÇíÂèñÂæó„Åó„Å¶„ÄÅ06_database„Å∏‰øùÂ≠ò„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</div>';
                        return;
                    }
                    
                    // 6„É∂Êúà‰ª•ÂÜÖ„ÅÆË®ò‰∫ã„ÅÆ„Åø„Éï„Ç£„É´„Çø„É™„É≥„Ç∞
                    const sixMonthsAgo = new Date();
                    sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 6);
                    
                    allArticles = allArticles.filter(article => {
                        const pubDate = new Date(article.pubDate);
                        return pubDate > sixMonthsAgo;
                    });
                    
                    console.log(`6„É∂Êúà‰ª•ÂÜÖ„ÅÆË®ò‰∫ãÊï∞: ${allArticles.length}`);
                    
                    // AIÈñ¢ÈÄ£Ë®ò‰∫ã„ÅÆ„Åø„Çí„Éï„Ç£„É´„Çø„É™„É≥„Ç∞
                    const relevantKeywords = [
                        'ai', 'artificial intelligence', '‰∫∫Â∑•Áü•ËÉΩ', 
                        'machine learning', 'Ê©üÊ¢∞Â≠¶Áøí', 'deep learning',
                        'robot', '„É≠„Éú„ÉÉ„Éà', 'Ëá™ÂãïÈÅãËª¢', 'autonomous',
                        '5g', '6g', 'iot', 'quantum', 'ÈáèÂ≠ê'
                    ];
                    
                    allArticles = allArticles.filter(article => {
                        const text = `${article.title} ${article.description} ${article.category || ''}`.toLowerCase();
                        return relevantKeywords.some(keyword => text.includes(keyword.toLowerCase()));
                    });
                    
                    console.log(`AIÈñ¢ÈÄ£Ë®ò‰∫ãÊï∞: ${allArticles.length}`);
                    
                    // ÊúÄÊñ∞È†Ü„Å´„ÇΩ„Éº„Éà
                    allArticles.sort((a, b) => new Date(b.pubDate) - new Date(a.pubDate));
                    
                    filterArticles();
                    return;
                }
                
                // LocalStorage„Å´„Éá„Éº„Çø„Åå„Å™„ÅÑÂ†¥Âêà„ÄÅIndexedDB„ÇíË©¶„Åô
                const dbName = '06_ai-news-aggregator';
                const request = indexedDB.open(dbName, 1);

                request.onsuccess = (event) => {
                    console.log('IndexedDBÊé•Á∂öÊàêÂäü');
                    const db = event.target.result;
                    
                    // „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çπ„Éà„Ç¢Âêç„ÇíÁ¢∫Ë™ç
                    console.log('Âà©Áî®ÂèØËÉΩ„Å™„Çπ„Éà„Ç¢:', Array.from(db.objectStoreNames));
                    
                    // articles„Çπ„Éà„Ç¢„Åæ„Åü„ÅØitems„Çπ„Éà„Ç¢„ÇíÁ¢∫Ë™ç
                    const storeName = db.objectStoreNames.contains('articles') ? 'articles' : 
                                     db.objectStoreNames.contains('items') ? 'items' : null;
                    
                    if (!storeName) {
                        console.error('Ë®ò‰∫ã„Çπ„Éà„Ç¢„ÅåÂ≠òÂú®„Åó„Åæ„Åõ„Çì');
                        document.getElementById('articles-container').innerHTML = 
                            '<div class="no-results">„Éá„Éº„Çø„Éô„Éº„Çπ„Å´Ë®ò‰∫ã„Çπ„Éà„Ç¢„ÅåÂ≠òÂú®„Åó„Åæ„Åõ„Çì„ÄÇ05_rss-reader„ÅßË®ò‰∫ã„ÇíÂèñÂæó„Åó„Å¶„ÄÅ06_database„Å∏‰øùÂ≠ò„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</div>';
                        return;
                    }
                    
                    const transaction = db.transaction([storeName], 'readonly');
                    const store = transaction.objectStore(storeName);
                    const getAllRequest = store.getAll();

                    getAllRequest.onsuccess = () => {
                        allArticles = getAllRequest.result || [];
                        console.log(`ÂÖ®Ë®ò‰∫ãÊï∞: ${allArticles.length}`);
                        
                        if (allArticles.length === 0) {
                            document.getElementById('articles-container').innerHTML = 
                                '<div class="no-results">„Éá„Éº„Çø„Éô„Éº„Çπ„Å´Ë®ò‰∫ã„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ05_rss-reader„ÅßË®ò‰∫ã„ÇíÂèñÂæó„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</div>';
                            return;
                        }
                        
                        // 6„É∂Êúà‰ª•ÂÜÖ„ÅÆË®ò‰∫ã„ÅÆ„Åø„Éï„Ç£„É´„Çø„É™„É≥„Ç∞
                        const sixMonthsAgo = new Date();
                        sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 6);
                        
                        allArticles = allArticles.filter(article => {
                            const pubDate = new Date(article.pubDate);
                            return pubDate > sixMonthsAgo;
                        });
                        
                        console.log(`6„É∂Êúà‰ª•ÂÜÖ„ÅÆË®ò‰∫ãÊï∞: ${allArticles.length}`);
                        
                        // AIÈñ¢ÈÄ£Ë®ò‰∫ã„ÅÆ„Åø„Çí„Éï„Ç£„É´„Çø„É™„É≥„Ç∞
                        const relevantKeywords = [
                            'ai', 'artificial intelligence', '‰∫∫Â∑•Áü•ËÉΩ', 
                            'machine learning', 'Ê©üÊ¢∞Â≠¶Áøí', 'deep learning',
                            'robot', '„É≠„Éú„ÉÉ„Éà', 'Ëá™ÂãïÈÅãËª¢', 'autonomous',
                            '5g', '6g', 'iot', 'quantum', 'ÈáèÂ≠ê'
                        ];
                        
                        allArticles = allArticles.filter(article => {
                            const text = `${article.title} ${article.description} ${article.category || ''}`.toLowerCase();
                            return relevantKeywords.some(keyword => text.includes(keyword.toLowerCase()));
                        });
                        
                        console.log(`AIÈñ¢ÈÄ£Ë®ò‰∫ãÊï∞: ${allArticles.length}`);
                        
                        // ÊúÄÊñ∞È†Ü„Å´„ÇΩ„Éº„Éà
                        allArticles.sort((a, b) => new Date(b.pubDate) - new Date(a.pubDate));
                        
                        filterArticles();
                    };
                    
                    getAllRequest.onerror = () => {
                        console.error('Ë®ò‰∫ã„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
                        document.getElementById('articles-container').innerHTML = 
                            '<div class="no-results">Ë®ò‰∫ã„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü</div>';
                    };
                };

                request.onerror = () => {
                    console.error('„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
                    document.getElementById('articles-container').innerHTML = 
                        '<div class="no-results">„Éá„Éº„Çø„Éô„Éº„Çπ„Å∏„ÅÆÊé•Á∂ö„Å´Â§±Êïó„Åó„Åæ„Åó„Åü</div>';
                };
            } catch (error) {
                console.error('„Ç®„É©„Éº:', error);
                document.getElementById('articles-container').innerHTML = 
                    '<div class="no-results">„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü: ' + error.message + '</div>';
            }
        }

        // ÂàùÊúüÂåñ
        loadArticles();
    </script>
</body>
</html>