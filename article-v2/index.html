<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ë®ò‰∫ãÁîüÊàê V2 - Êó•ÂàäAI„ÇÜ„Åü„Åï„ÇìÊñ∞ËÅû | SCF V5</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, #ff6b6b 0%, #ffd93d 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #333;
            font-size: 2em;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .template-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .template-card {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .template-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            border-color: #ff6b6b;
        }

        .template-card.active {
            background: linear-gradient(135deg, rgba(255,107,107,0.1), rgba(255,217,61,0.1));
            border-color: #ff6b6b;
        }

        .template-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .template-name {
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }

        .template-desc {
            font-size: 0.85em;
            color: #666;
        }

        .input-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-panel {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
        }

        .panel-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .source-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            background: white;
        }

        .source-item {
            padding: 8px;
            margin-bottom: 5px;
            background: #f8f9fa;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .source-item:hover {
            background: #e9ecef;
        }

        .source-item.selected {
            background: #ff6b6b;
            color: white;
        }

        .source-checkbox {
            width: 18px;
            height: 18px;
        }

        .field-group {
            margin-bottom: 15px;
        }

        .field-label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
            font-size: 0.9em;
        }

        .field-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }

        .field-textarea {
            width: 100%;
            min-height: 100px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            resize: vertical;
        }

        .quick-insert {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
        }

        .insert-chip {
            background: #e0e0e0;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.85em;
            cursor: pointer;
            transition: all 0.2s;
        }

        .insert-chip:hover {
            background: #ff6b6b;
            color: white;
        }

        .preview-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .preview-title {
            font-weight: bold;
            color: #333;
        }

        .preview-controls {
            display: flex;
            gap: 10px;
        }

        .preview-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s;
        }

        .btn-preview {
            background: #4caf50;
            color: white;
        }

        .btn-copy {
            background: #2196f3;
            color: white;
        }

        .btn-export {
            background: #ff9800;
            color: white;
        }

        .preview-content {
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 20px;
            min-height: 400px;
            font-family: 'Noto Serif JP', serif;
            line-height: 1.8;
        }

        .article-header {
            border-bottom: 3px solid #ff6b6b;
            padding-bottom: 20px;
            margin-bottom: 20px;
        }

        .article-title {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .article-meta {
            display: flex;
            gap: 20px;
            color: #666;
            font-size: 0.9em;
        }

        .article-body {
            font-size: 1.1em;
            color: #333;
        }

        .article-body h2 {
            font-size: 1.5em;
            margin: 30px 0 15px;
            color: #ff6b6b;
            border-left: 5px solid #ff6b6b;
            padding-left: 10px;
        }

        .article-body h3 {
            font-size: 1.3em;
            margin: 20px 0 10px;
            color: #333;
        }

        .article-body p {
            margin-bottom: 15px;
        }

        .article-body ul, .article-body ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        .article-body li {
            margin-bottom: 8px;
        }

        .article-body blockquote {
            background: #f8f9fa;
            border-left: 5px solid #ff6b6b;
            padding: 15px;
            margin: 20px 0;
            font-style: italic;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
        }

        .action-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-generate {
            background: linear-gradient(135deg, #ff6b6b, #ffd93d);
            color: white;
        }

        .btn-generate:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255,107,107,0.4);
        }

        .btn-save {
            background: #4caf50;
            color: white;
        }

        .btn-clear {
            background: #6c757d;
            color: white;
        }

        .history-section {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .history-title {
            font-weight: bold;
            color: #333;
        }

        .history-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 10px;
        }

        .history-item {
            background: white;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.2s;
        }

        .history-item:hover {
            background: #fff3e0;
            border-color: #ff6b6b;
        }

        .history-item-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .history-item-date {
            font-size: 0.8em;
            color: #666;
        }

        @media (max-width: 968px) {
            .input-section {
                grid-template-columns: 1fr;
            }
            
            .template-selector {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üì∞ Êó•ÂàäAI„ÇÜ„Åü„Åï„ÇìÊñ∞ËÅû - Ë®ò‰∫ãÁîüÊàê„Ç∑„Çπ„ÉÜ„É† V2</h1>

        <div class="template-selector">
            <div class="template-card active" data-template="daily-news">
                <div class="template-icon">üìÖ</div>
                <div class="template-name">Êó•Âàä„Éã„É•„Éº„Çπ</div>
                <div class="template-desc">‰ªäÊó•„ÅÆAIÊ•≠ÁïåÂãïÂêë</div>
            </div>
            <div class="template-card" data-template="deep-dive">
                <div class="template-icon">üîç</div>
                <div class="template-name">Ê∑±Êéò„ÇäËß£Ë™¨</div>
                <div class="template-desc">ÊäÄË°ìË©≥Á¥∞ÂàÜÊûê</div>
            </div>
            <div class="template-card" data-template="tutorial">
                <div class="template-icon">üìö</div>
                <div class="template-name">„ÉÅ„É•„Éº„Éà„É™„Ç¢„É´</div>
                <div class="template-desc">ÂÆüË∑µ„Ç¨„Ç§„Éâ</div>
            </div>
            <div class="template-card" data-template="opinion">
                <div class="template-icon">üí≠</div>
                <div class="template-name">„Ç™„Éî„Éã„Ç™„É≥</div>
                <div class="template-desc">ËÄÉÂØü„ÉªÊÑèË¶ã</div>
            </div>
            <div class="template-card" data-template="interview">
                <div class="template-icon">üé§</div>
                <div class="template-name">„Ç§„É≥„Çø„Éì„É•„Éº</div>
                <div class="template-desc">ÂØæË´áÂΩ¢Âºè</div>
            </div>
            <div class="template-card" data-template="roundup">
                <div class="template-icon">üìä</div>
                <div class="template-name">ÈÄ±Èñì„Åæ„Å®„ÇÅ</div>
                <div class="template-desc">‰ªäÈÄ±„ÅÆÊåØ„ÇäËøî„Çä</div>
            </div>
        </div>

        <div class="input-section">
            <div class="input-panel">
                <div class="panel-title">üìù Ë®ò‰∫ãÊÉÖÂ†±ÂÖ•Âäõ</div>
                
                <div class="field-group">
                    <label class="field-label">Ë®ò‰∫ã„Çø„Ç§„Éà„É´</label>
                    <input type="text" class="field-input" id="articleTitle" placeholder="‰æã: GPT-5.0„Åå„Å§„ÅÑ„Å´„É™„É™„Éº„ÇπÔºÅ„Åù„ÅÆÂÆüÂäõ„Å®Ë™≤È°å„ÇíÂæπÂ∫ïËß£Ë™¨">
                </div>

                <div class="field-group">
                    <label class="field-label">„É™„Éº„ÉâÊñáÔºàÂ∞éÂÖ•Ôºâ</label>
                    <textarea class="field-textarea" id="articleLead" placeholder="Ë™≠ËÄÖ„ÇíÂºï„ÅçËæº„ÇÄÂ∞éÂÖ•Êñá„ÇíÂÖ•Âäõ..."></textarea>
                </div>

                <div class="field-group">
                    <label class="field-label">„É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ</label>
                    <textarea class="field-textarea" id="articleMain" style="min-height: 200px;" placeholder="Ë®ò‰∫ã„ÅÆÊú¨Êñá„ÇíÂÖ•Âäõ..."></textarea>
                </div>

                <div class="field-group">
                    <label class="field-label">ÁµêË´ñ„Éª„Åæ„Å®„ÇÅ</label>
                    <textarea class="field-textarea" id="articleConclusion" placeholder="Ë®ò‰∫ã„ÅÆÁ∑†„ÇÅ„Åè„Åè„Çä..."></textarea>
                </div>

                <div class="quick-insert">
                    <div class="insert-chip" onclick="insertText('## ')">Ë¶ãÂá∫„Åó</div>
                    <div class="insert-chip" onclick="insertText('**Âº∑Ë™ø**')">Âº∑Ë™ø</div>
                    <div class="insert-chip" onclick="insertText('> ÂºïÁî®')">ÂºïÁî®</div>
                    <div class="insert-chip" onclick="insertText('- ')">ÁÆáÊù°Êõ∏„Åç</div>
                    <div class="insert-chip" onclick="insertText('[„É™„É≥„ÇØ](URL)')">„É™„É≥„ÇØ</div>
                    <div class="insert-chip" onclick="insertText('```code```')">„Ç≥„Éº„Éâ</div>
                </div>
            </div>

            <div class="input-panel">
                <div class="panel-title">üì∞ RSSË®ò‰∫ã„ÇΩ„Éº„Çπ</div>
                <div class="source-list" id="sourceList">
                    <div class="source-item">
                        <input type="checkbox" class="source-checkbox">
                        <span>TechCrunch - GPT-5.0Áô∫Ë°®„ÅÆË°ùÊíÉ</span>
                    </div>
                    <div class="source-item">
                        <input type="checkbox" class="source-checkbox">
                        <span>The Verge - AIË¶èÂà∂Ê≥ïÊ°à„ÅÆÊúÄÊñ∞ÂãïÂêë</span>
                    </div>
                    <div class="source-item">
                        <input type="checkbox" class="source-checkbox">
                        <span>Wired - ÈáèÂ≠ê„Ç≥„É≥„Éî„É•„Éº„Çø„Å®AI„ÅÆËûçÂêà</span>
                    </div>
                    <div class="source-item">
                        <input type="checkbox" class="source-checkbox">
                        <span>MIT Tech Review - Ê¨°‰∏ñ‰ª£AI„ÉÅ„ÉÉ„Éó</span>
                    </div>
                    <div class="source-item">
                        <input type="checkbox" class="source-checkbox">
                        <span>VentureBeat - AIÊäïË≥á„Éà„É¨„É≥„Éâ2025</span>
                    </div>
                    <div class="source-item">
                        <input type="checkbox" class="source-checkbox">
                        <span>GIGAZINE - Êó•Êú¨„ÅÆAIÈñãÁô∫ÊúÄÂâçÁ∑ö</span>
                    </div>
                </div>
                
                <div class="field-group" style="margin-top: 15px;">
                    <label class="field-label">„Çø„Ç∞„Éª„Ç´„ÉÜ„Ç¥„É™„Éº</label>
                    <input type="text" class="field-input" id="articleTags" placeholder="AI, GPT-5, Ê©üÊ¢∞Â≠¶Áøí, „Éã„É•„Éº„Çπ">
                </div>

                <div class="field-group">
                    <label class="field-label">ËëóËÄÖÂêç</label>
                    <input type="text" class="field-input" id="articleAuthor" value="AI„ÇÜ„Åü„Åï„Çì">
                </div>

                <div class="field-group">
                    <label class="field-label">ÂÖ¨Èñã‰∫àÂÆöÊó•ÊôÇ</label>
                    <input type="datetime-local" class="field-input" id="publishDate">
                </div>
            </div>
        </div>

        <div class="preview-section">
            <div class="preview-header">
                <span class="preview-title">üìñ „Éó„É¨„Éì„É•„Éº</span>
                <div class="preview-controls">
                    <button class="preview-btn btn-preview" onclick="updatePreview()">üîÑ Êõ¥Êñ∞</button>
                    <button class="preview-btn btn-copy" onclick="copyArticle()">üìã „Ç≥„Éî„Éº</button>
                    <button class="preview-btn btn-export" onclick="exportArticle()">üíæ „Ç®„ÇØ„Çπ„Éù„Éº„Éà</button>
                </div>
            </div>
            <div class="preview-content" id="previewContent">
                <div class="article-header">
                    <h1 class="article-title">Ë®ò‰∫ã„Çø„Ç§„Éà„É´„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô</h1>
                    <div class="article-meta">
                        <span>üìÖ 2025Âπ¥8Êúà11Êó•</span>
                        <span>‚úçÔ∏è AI„ÇÜ„Åü„Åï„Çì</span>
                        <span>üè∑Ô∏è AI, „ÉÜ„ÇØ„Éé„É≠„Ç∏„Éº</span>
                    </div>
                </div>
                <div class="article-body">
                    <p>Ë®ò‰∫ã„ÅÆ„Éó„É¨„Éì„É•„Éº„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇÂ∑¶ÂÅ¥„ÅÆ„Éï„Ç©„Éº„É†„Å´ÂÖ•Âäõ„Åô„Çã„Å®„ÄÅ„É™„Ç¢„É´„Çø„Ç§„É†„Åß„Éó„É¨„Éì„É•„Éº„ÅåÊõ¥Êñ∞„Åï„Çå„Åæ„Åô„ÄÇ</p>
                </div>
            </div>
        </div>

        <div class="action-buttons">
            <button class="action-btn btn-generate" onclick="generateArticle()">
                üöÄ AIÊîØÊè¥„ÅßË®ò‰∫ãÁîüÊàê
            </button>
            <button class="action-btn btn-save" onclick="saveArticle()">
                üíæ ‰∏ãÊõ∏„Åç‰øùÂ≠ò
            </button>
            <button class="action-btn btn-clear" onclick="clearAll()">
                üóëÔ∏è „ÇØ„É™„Ç¢
            </button>
        </div>

        <div class="history-section">
            <div class="history-header">
                <span class="history-title">üìö Ë®ò‰∫ãÂ±•Ê≠¥</span>
                <button class="preview-btn" onclick="clearHistory()">Â±•Ê≠¥„ÇØ„É™„Ç¢</button>
            </div>
            <div class="history-list" id="historyList">
                <!-- Â±•Ê≠¥„Ç¢„Ç§„ÉÜ„É†„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô -->
            </div>
        </div>
    </div>

    <script>
        let currentTemplate = 'daily-news';
        let articleHistory = [];

        // „ÉÜ„É≥„Éó„É¨„Éº„ÉàÈÅ∏Êäû
        document.querySelectorAll('.template-card').forEach(card => {
            card.addEventListener('click', function() {
                document.querySelectorAll('.template-card').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                currentTemplate = this.dataset.template;
                loadTemplate(currentTemplate);
            });
        });

        // „ÉÜ„É≥„Éó„É¨„Éº„ÉàË™≠„ÅøËæº„Åø
        function loadTemplate(template) {
            const templates = {
                'daily-news': {
                    title: '„ÄêÈÄüÂ†±„Äë‰ªäÊó•„ÅÆAIÊ•≠Áïå„Éã„É•„Éº„Çπ - ',
                    lead: 'Êú¨Êó•„ÅÆAIÊ•≠Áïå„Åß„ÅØ„ÄÅ‰ª•‰∏ã„ÅÆÈáçË¶Å„Å™Âãï„Åç„Åå„ÅÇ„Çä„Åæ„Åó„Åü„ÄÇ',
                    main: '## ‰∏ªË¶Å„Éã„É•„Éº„Çπ\n\n### 1. \n\n### 2. \n\n### 3. \n\n## Ë©≥Á¥∞Ëß£Ë™¨\n\n## Ê•≠Áïå„Å∏„ÅÆÂΩ±Èüø\n\n## ‰ªäÂæå„ÅÆÂ±ïÊúõ',
                    conclusion: 'Êú¨Êó•„Åä‰ºù„Åà„Åó„Åü„Éã„É•„Éº„Çπ„ÅØ„ÄÅAIÊ•≠Áïå„ÅÆÁô∫Â±ï„Å´„Åä„ÅÑ„Å¶ÈáçË¶Å„Å™Ëª¢ÊèõÁÇπ„Å®„Å™„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÊòéÊó•„ÇÇÊúÄÊñ∞ÊÉÖÂ†±„Çí„ÅäÂ±ä„Åë„Åó„Åæ„Åô„ÄÇ'
                },
                'deep-dive': {
                    title: '„ÄêÂæπÂ∫ïËß£Ë™¨„Äë',
                    lead: '‰ªäÂõû„ÅØ„ÄÅË©±È°å„ÅÆÊäÄË°ì„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèËß£Ë™¨„Åó„Åæ„Åô„ÄÇ',
                    main: '## ËÉåÊôØ\n\n## ÊäÄË°ìÁöÑË©≥Á¥∞\n\n### „Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£\n\n### ÂÆüË£ÖÊñπÊ≥ï\n\n## ÂÆüÁî®‰æã\n\n## „É°„É™„ÉÉ„Éà„Éª„Éá„É°„É™„ÉÉ„Éà\n\n### „É°„É™„ÉÉ„Éà\n- \n\n### „Éá„É°„É™„ÉÉ„Éà\n- ',
                    conclusion: '„Åì„ÅÆÊäÄË°ì„ÅØ‰ªäÂæå„ÅÆAIÈñãÁô∫„Å´„Åä„ÅÑ„Å¶ÈáçË¶Å„Å™ÂΩπÂâ≤„ÇíÊûú„Åü„Åô„Åì„Å®„ÅåÊúüÂæÖ„Åï„Çå„Åæ„Åô„ÄÇ'
                },
                'tutorial': {
                    title: '„ÄêÂÆüË∑µ„Ç¨„Ç§„Éâ„Äë„Çπ„ÉÜ„ÉÉ„Éó„Éê„Ç§„Çπ„ÉÜ„ÉÉ„Éó„ÅßÂ≠¶„Å∂',
                    lead: 'ÂàùÂøÉËÄÖ„Åß„ÇÇÁ∞°Âçò„Å´Âßã„ÇÅ„Çâ„Çå„Çã„Çà„ÅÜ„ÄÅÈ†Ü„ÇíËøΩ„Å£„Å¶Ëß£Ë™¨„Åó„Åæ„Åô„ÄÇ',
                    main: '## Ê∫ñÂÇô„Åô„Çã„ÇÇ„ÅÆ\n- \n\n## „Çπ„ÉÜ„ÉÉ„Éó1: Áí∞Â¢ÉÊßãÁØâ\n\n## „Çπ„ÉÜ„ÉÉ„Éó2: Âü∫Êú¨Ë®≠ÂÆö\n\n## „Çπ„ÉÜ„ÉÉ„Éó3: ÂÆüË£Ö\n\n```python\n# „Çµ„É≥„Éó„É´„Ç≥„Éº„Éâ\n```\n\n## „Çπ„ÉÜ„ÉÉ„Éó4: „ÉÜ„Çπ„Éà\n\n## „Éà„É©„Éñ„É´„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞',
                    conclusion: '„Åì„Çå„ÅßÂü∫Êú¨ÁöÑ„Å™ÂÆüË£Ö„ÅØÂÆå‰∫Ü„Åß„Åô„ÄÇ„Åï„Çâ„Å´Ë©≥„Åó„ÅèÂ≠¶„Å≥„Åü„ÅÑÊñπ„ÅØ„ÄÅÂÖ¨Âºè„Éâ„Ç≠„É•„É°„É≥„Éà„ÇÇÂèÇÁÖß„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
                },
                'opinion': {
                    title: '„ÄêËÄÉÂØü„Äë',
                    lead: 'ÊúÄËøë„ÅÆÂãïÂêë„ÇíË∏è„Åæ„Åà„Å¶„ÄÅÂÄã‰∫∫ÁöÑ„Å™Ë¶ãËß£„ÇíËø∞„Åπ„Åï„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„ÄÇ',
                    main: '## ÁèæÁä∂ÂàÜÊûê\n\n## ÂïèÈ°åÊèêËµ∑\n\n## ÁßÅ„ÅÆËÄÉ„Åà\n\n### Ë≥õÊàê„ÅÆÁ´ãÂ†¥„Åã„Çâ\n\n### ÂèçÂØæ„ÅÆÁ´ãÂ†¥„Åã„Çâ\n\n## ‰ª£ÊõøÊ°à„ÅÆÊèêÁ§∫\n\n## Â∞ÜÊù•‰∫àÊ∏¨',
                    conclusion: '„Åì„Çå„ÅØ„ÅÇ„Åè„Åæ„Åß‰∏Ä„Å§„ÅÆË¶ãÊñπ„Åß„Åô„ÄÇÁöÜÊßò„ÅÆ„ÅîÊÑèË¶ã„ÇÇ„Åú„Å≤„ÅäËÅû„Åã„Åõ„Åè„Å†„Åï„ÅÑ„ÄÇ'
                },
                'interview': {
                    title: '„ÄêÁã¨Âç†„Ç§„É≥„Çø„Éì„É•„Éº„Äë',
                    lead: '‰ªäÂõû„ÅØÁâπÂà•„Å´„ÄÅÊ•≠Áïå„ÅÆ„Ç≠„Éº„Éë„Éº„ÇΩ„É≥„Å´„ÅäË©±„Çí‰º∫„ÅÑ„Åæ„Åó„Åü„ÄÇ',
                    main: '## „Éó„É≠„Éï„Ç£„Éº„É´\n\n## „Ç§„É≥„Çø„Éì„É•„Éº\n\n**Q: ÊúÄÂàù„ÅÆË≥™Âïè**\nA: \n\n**Q: Ê¨°„ÅÆË≥™Âïè**\nA: \n\n**Q: ‰ªäÂæå„ÅÆÂ±ïÊúõ„Å´„Å§„ÅÑ„Å¶**\nA: \n\n## Á∑®ÈõÜÂæåË®ò',
                    conclusion: 'Ë≤¥Èáç„Å™„ÅäË©±„Çí„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„Åü„ÄÇ'
                },
                'roundup': {
                    title: '„ÄêÈÄ±Èñì„Åæ„Å®„ÇÅ„Äë‰ªäÈÄ±„ÅÆAIÊ•≠Áïå„Éà„ÉÉ„Éó„Éã„É•„Éº„Çπ',
                    lead: '‰ªäÈÄ±„ÇÇÊßò„ÄÖ„Å™Âãï„Åç„Åå„ÅÇ„Çä„Åæ„Åó„Åü„ÄÇÈáçË¶Å„Å™„Éã„É•„Éº„Çπ„ÇíÊåØ„ÇäËøî„Çä„Åæ„Åô„ÄÇ',
                    main: '## ÊúàÊõúÊó•\n\n## ÁÅ´ÊõúÊó•\n\n## Ê∞¥ÊõúÊó•\n\n## Êú®ÊõúÊó•\n\n## ÈáëÊõúÊó•\n\n## ‰ªäÈÄ±„ÅÆ„Éà„É¨„É≥„ÉâÂàÜÊûê\n\n## Êù•ÈÄ±„ÅÆÊ≥®ÁõÆ„Éù„Ç§„É≥„Éà',
                    conclusion: 'Êù•ÈÄ±„ÇÇÂºï„ÅçÁ∂ö„Åç„ÄÅÊúÄÊñ∞ÊÉÖÂ†±„Çí„ÅäÂ±ä„Åë„Åó„Åæ„Åô„ÄÇ'
                }
            };

            const t = templates[template];
            document.getElementById('articleTitle').value = t.title;
            document.getElementById('articleLead').value = t.lead;
            document.getElementById('articleMain').value = t.main;
            document.getElementById('articleConclusion').value = t.conclusion;
            updatePreview();
        }

        // „ÉÜ„Ç≠„Çπ„ÉàÊåøÂÖ•
        function insertText(text) {
            const textarea = document.getElementById('articleMain');
            const start = textarea.selectionStart;
            const end = textarea.selectionEnd;
            const value = textarea.value;
            
            textarea.value = value.substring(0, start) + text + value.substring(end);
            textarea.focus();
            textarea.selectionStart = textarea.selectionEnd = start + text.length;
        }

        // „Éó„É¨„Éì„É•„ÉºÊõ¥Êñ∞
        function updatePreview() {
            const title = document.getElementById('articleTitle').value || 'Ë®ò‰∫ã„Çø„Ç§„Éà„É´';
            const lead = document.getElementById('articleLead').value;
            const main = document.getElementById('articleMain').value;
            const conclusion = document.getElementById('articleConclusion').value;
            const author = document.getElementById('articleAuthor').value || 'AI„ÇÜ„Åü„Åï„Çì';
            const tags = document.getElementById('articleTags').value || 'AI, „ÉÜ„ÇØ„Éé„É≠„Ç∏„Éº';
            const date = document.getElementById('publishDate').value 
                ? new Date(document.getElementById('publishDate').value).toLocaleDateString('ja-JP')
                : new Date().toLocaleDateString('ja-JP');

            let content = `
                <div class="article-header">
                    <h1 class="article-title">${title}</h1>
                    <div class="article-meta">
                        <span>üìÖ ${date}</span>
                        <span>‚úçÔ∏è ${author}</span>
                        <span>üè∑Ô∏è ${tags}</span>
                    </div>
                </div>
                <div class="article-body">
            `;

            if (lead) {
                content += `<p><strong>${lead}</strong></p>`;
            }

            if (main) {
                // MarkdownÈ¢®„ÅÆÂ§âÊèõ
                let processedMain = main
                    .replace(/## (.*)/g, '<h2>$1</h2>')
                    .replace(/### (.*)/g, '<h3>$1</h3>')
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                    .replace(/\*(.*?)\*/g, '<em>$1</em>')
                    .replace(/> (.*)/g, '<blockquote>$1</blockquote>')
                    .replace(/- (.*)/g, '<li>$1</li>')
                    .replace(/```(.*?)```/gs, '<pre><code>$1</code></pre>')
                    .replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank">$1</a>')
                    .replace(/\n\n/g, '</p><p>')
                    .replace(/\n/g, '<br>');
                
                content += `<p>${processedMain}</p>`;
            }

            if (conclusion) {
                content += `<hr style="margin: 30px 0;"><p><em>${conclusion}</em></p>`;
            }

            content += '</div>';

            document.getElementById('previewContent').innerHTML = content;
        }

        // AIÊîØÊè¥„ÅßË®ò‰∫ãÁîüÊàê
        async function generateArticle() {
            const apiKey = localStorage.getItem('openai-api-key');
            if (!apiKey) {
                alert('OpenAI API„Ç≠„Éº„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇË®≠ÂÆöÁîªÈù¢„ÅßAPI„Ç≠„Éº„ÇíÁôªÈå≤„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
                return;
            }

            // ÈÅ∏Êäû„Åï„Çå„ÅüRSS„ÇΩ„Éº„Çπ„ÇíÂèñÂæó
            const selectedSources = [];
            document.querySelectorAll('.source-item input:checked').forEach(checkbox => {
                selectedSources.push(checkbox.nextElementSibling.textContent);
            });

            if (selectedSources.length === 0) {
                alert('Ë®ò‰∫ã„ÇΩ„Éº„Çπ„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
                return;
            }

            alert(`ÈÅ∏Êäû„Åï„Çå„Åü„ÇΩ„Éº„Çπ:\n${selectedSources.join('\n')}\n\n„Åì„Çå„Çâ„ÅÆÊÉÖÂ†±„ÇíÂü∫„Å´Ë®ò‰∫ã„ÇíÁîüÊàê„Åó„Åæ„Åô„ÄÇ`);
            
            // „Éá„É¢Áî®„ÅÆËá™ÂãïÂÖ•Âäõ
            const title = document.getElementById('articleTitle').value;
            if (!title || title.includes('„Äê')) {
                document.getElementById('articleTitle').value = 'GPT-5.0„É™„É™„Éº„ÇπÔºÅ„Ç≥„Éº„ÉâÁîüÊàê„ÅØÂÑ™ÁßÄ„Å†„ÅåÂØæË©±„ÅØÂÜ∑„Åü„ÅÑ„Å®Ë©±È°å„Å´';
            }
            
            document.getElementById('articleLead').value = 'ÂæÖÊúõ„ÅÆGPT-5.0„Åå„Å§„ÅÑ„Å´„É™„É™„Éº„Çπ„Åï„Çå„Åæ„Åó„Åü„ÄÇ„Ç≥„Éº„ÉâÁîüÊàêËÉΩÂäõ„ÅØÈ£õË∫çÁöÑ„Å´Âêë‰∏ä„Åó„Åü‰∏ÄÊñπ„Åß„ÄÅ„Äå„ÅäÂèãÈÅîAI„Äç„Å®„Åó„Å¶„ÅÆÊ∏©„Åã„Åø„ÅåÂ§±„Çè„Çå„Åü„Å®„ÅÑ„ÅÜÂ£∞„ÇÇ‰∏ä„Åå„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ';
            
            document.getElementById('articleMain').value = `## GPT-5.0„ÅÆ‰∏ª„Å™ÁâπÂæ¥

### Âº∑Âåñ„Åï„Çå„ÅüËÉΩÂäõ
- **„Ç≥„Éº„ÉâÁîüÊàê**: Ë§áÈõë„Å™„Ç¢„É´„Ç¥„É™„Ç∫„É†„ÇÇ‰∏ÄÁô∫„ÅßÂÆüË£Ö
- **Êï∞Â≠¶ÁöÑÊé®Ë´ñ**: Â§ßÂ≠¶Èô¢„É¨„Éô„É´„ÅÆÂïèÈ°å„ÇÇËß£Á≠îÂèØËÉΩ
- **„Éû„É´„ÉÅ„É¢„Éº„ÉÄ„É´**: ÁîªÂÉè„ÉªÈü≥Â£∞„ÉªÂãïÁîª„ÅÆÁêÜËß£„ÅåÂêë‰∏ä

### „É¶„Éº„Ç∂„Éº„ÅÆÂèçÂøú

Twitter„Åß„ÅØÊßò„ÄÖ„Å™ÂèçÂøú„ÅåË¶ã„Çâ„Çå„Åæ„ÅôÔºö

> „Äå„Ç≥„Éº„ÉâÊõ∏„Åã„Åõ„Åü„ÇâÁ•û„É¨„Éô„É´„ÄÇ„Åß„ÇÇÈõëË´á„ÅØÂë≥Ê∞ó„Å™„ÅÑ„Äç
> „Äå‰ªï‰∫ã„Å´„ÅØÊúÄÈ´ò„Å†„Åë„Å©„ÄÅÂèãÈÅî„Å´„ÅØ„Å™„Çå„Å™„ÅÑÊÑü„Åò„Äç

### ÊäÄË°ìÁöÑ„Å™Â§âÊõ¥ÁÇπ

„Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£„ÅÆÂ§ßÂπÖ„Å™Ë¶ãÁõ¥„Åó„Å´„Çà„Çä„ÄÅ„Çø„Çπ„ÇØÁâπÂåñÂûã„ÅÆÊÄßËÉΩ„ÅåÂêë‰∏ä„Åó„Åæ„Åó„Åü„ÄÇ

## ‰ªäÂæå„ÅÆÂ±ïÊúõ

OpenAI„ÅØ‰ªäÂæå„ÄÅÁî®ÈÄîÂà•„Å´ÊúÄÈÅ©Âåñ„Åï„Çå„Åü„É¢„Éá„É´„ÇíÊèê‰æõ„Åó„Å¶„ÅÑ„ÅèÊñπÈáù„Å®„ÅÆ„Åì„Å®„Åß„Åô„ÄÇ`;
            
            document.getElementById('articleConclusion').value = 'GPT-5.0„ÅØÁ¢∫ÂÆü„Å´ÈÄ≤Âåñ„Åó„Å¶„ÅÑ„Åæ„Åô„Åå„ÄÅ‰∏áËÉΩ„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇÁî®ÈÄî„Å´Âøú„Åò„Å¶ÈÅ©Âàá„Å™AI„ÇíÈÅ∏Êäû„Åô„Çã„Åì„Å®„ÅåÈáçË¶Å„Å´„Å™„Å£„Å¶„Åç„Å¶„ÅÑ„Åæ„Åô„ÄÇ';
            
            updatePreview();
        }

        // Ë®ò‰∫ã„Ç≥„Éî„Éº
        function copyArticle() {
            const content = document.getElementById('previewContent').innerText;
            navigator.clipboard.writeText(content).then(() => {
                alert('Ë®ò‰∫ã„Çí„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„Éº„Åó„Åæ„Åó„ÅüÔºÅ');
            });
        }

        // Ë®ò‰∫ã„Ç®„ÇØ„Çπ„Éù„Éº„Éà
        function exportArticle() {
            const title = document.getElementById('articleTitle').value || 'ÁÑ°È°å';
            const content = document.getElementById('previewContent').innerHTML;
            
            const html = `
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>${title}</title>
    <style>
        body { font-family: 'Noto Serif JP', serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .article-header { border-bottom: 3px solid #ff6b6b; padding-bottom: 20px; margin-bottom: 20px; }
        .article-title { font-size: 2em; font-weight: bold; }
        .article-meta { color: #666; font-size: 0.9em; }
        .article-body { line-height: 1.8; }
        h2 { color: #ff6b6b; border-left: 5px solid #ff6b6b; padding-left: 10px; }
        blockquote { background: #f8f9fa; border-left: 5px solid #ff6b6b; padding: 15px; }
    </style>
</head>
<body>
    ${content}
</body>
</html>`;
            
            const blob = new Blob([html], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${title}.html`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // Ë®ò‰∫ã‰øùÂ≠ò
        function saveArticle() {
            const article = {
                title: document.getElementById('articleTitle').value,
                lead: document.getElementById('articleLead').value,
                main: document.getElementById('articleMain').value,
                conclusion: document.getElementById('articleConclusion').value,
                author: document.getElementById('articleAuthor').value,
                tags: document.getElementById('articleTags').value,
                template: currentTemplate,
                timestamp: new Date().toISOString()
            };
            
            articleHistory.unshift(article);
            articleHistory = articleHistory.slice(0, 20); // ÊúÄÊñ∞20‰ª∂„ÅÆ„Åø
            
            localStorage.setItem('article-history', JSON.stringify(articleHistory));
            updateHistoryDisplay();
            
            alert('Ë®ò‰∫ã„Çí‰∏ãÊõ∏„Åç‰øùÂ≠ò„Åó„Åæ„Åó„ÅüÔºÅ');
        }

        // Â±•Ê≠¥Ë°®Á§∫Êõ¥Êñ∞
        function updateHistoryDisplay() {
            const historyList = document.getElementById('historyList');
            
            if (articleHistory.length === 0) {
                historyList.innerHTML = '<div style="text-align: center; color: #999;">Â±•Ê≠¥„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</div>';
                return;
            }
            
            historyList.innerHTML = articleHistory.map((article, index) => `
                <div class="history-item" onclick="loadFromHistory(${index})">
                    <div class="history-item-title">${article.title || 'ÁÑ°È°å'}</div>
                    <div class="history-item-date">${new Date(article.timestamp).toLocaleString('ja-JP')}</div>
                </div>
            `).join('');
        }

        // Â±•Ê≠¥„Åã„ÇâË™≠„ÅøËæº„Åø
        function loadFromHistory(index) {
            const article = articleHistory[index];
            document.getElementById('articleTitle').value = article.title || '';
            document.getElementById('articleLead').value = article.lead || '';
            document.getElementById('articleMain').value = article.main || '';
            document.getElementById('articleConclusion').value = article.conclusion || '';
            document.getElementById('articleAuthor').value = article.author || '';
            document.getElementById('articleTags').value = article.tags || '';
            
            // „ÉÜ„É≥„Éó„É¨„Éº„ÉàÂàá„ÇäÊõø„Åà
            if (article.template) {
                document.querySelectorAll('.template-card').forEach(card => {
                    card.classList.remove('active');
                    if (card.dataset.template === article.template) {
                        card.classList.add('active');
                    }
                });
                currentTemplate = article.template;
            }
            
            updatePreview();
        }

        // „ÇØ„É™„Ç¢
        function clearAll() {
            if (confirm('„Åô„Åπ„Å¶„ÅÆÂÖ•ÂäõÂÜÖÂÆπ„Çí„ÇØ„É™„Ç¢„Åó„Åæ„Åô„ÅãÔºü')) {
                document.getElementById('articleTitle').value = '';
                document.getElementById('articleLead').value = '';
                document.getElementById('articleMain').value = '';
                document.getElementById('articleConclusion').value = '';
                document.getElementById('articleTags').value = '';
                updatePreview();
            }
        }

        // Â±•Ê≠¥„ÇØ„É™„Ç¢
        function clearHistory() {
            if (confirm('Â±•Ê≠¥„Çí„Åô„Åπ„Å¶ÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü')) {
                articleHistory = [];
                localStorage.removeItem('article-history');
                updateHistoryDisplay();
            }
        }

        // ÂàùÊúüÂåñ
        window.addEventListener('load', () => {
            // Â±•Ê≠¥Ë™≠„ÅøËæº„Åø
            const saved = localStorage.getItem('article-history');
            if (saved) {
                articleHistory = JSON.parse(saved);
                updateHistoryDisplay();
            }
            
            // Êó•‰ªòÂàùÊúüÂÄ§
            const now = new Date();
            document.getElementById('publishDate').value = now.toISOString().slice(0, 16);
            
            // ÂàùÊúü„ÉÜ„É≥„Éó„É¨„Éº„ÉàË™≠„ÅøËæº„Åø
            loadTemplate('daily-news');
            
            // „É™„Ç¢„É´„Çø„Ç§„É†„Éó„É¨„Éì„É•„Éº
            ['articleTitle', 'articleLead', 'articleMain', 'articleConclusion', 'articleAuthor', 'articleTags'].forEach(id => {
                document.getElementById(id).addEventListener('input', updatePreview);
            });
        });

        // RSS„ÇΩ„Éº„ÇπÈÅ∏Êäû„Ç§„Éô„É≥„Éà
        document.querySelectorAll('.source-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                this.closest('.source-item').classList.toggle('selected', this.checked);
            });
        });
    </script>
</body>
</html>