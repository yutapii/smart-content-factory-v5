<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WXRå‡ºåŠ› - note.comç”¨XMLç”Ÿæˆ | SCF V5</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans JP', sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 1.8em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .priority-badge {
            background: #ff6b6b;
            color: white;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.5em;
            font-weight: normal;
        }

        .back-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 8px;
            transition: background 0.3s;
        }

        .back-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
        }

        .info-banner {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #ff9800;
        }

        .info-banner h3 {
            color: #e65100;
            margin-bottom: 5px;
            font-size: 1.1em;
        }

        .info-banner p {
            color: #bf360c;
            font-size: 0.9em;
        }

        .main-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .input-section, .output-section {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .section-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .char-counter {
            display: flex;
            gap: 15px;
            font-size: 0.85em;
        }

        .counter-item {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 5px 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }

        .counter-value {
            font-weight: bold;
            color: #333;
        }

        .counter-limit {
            color: #999;
        }

        .counter-warn {
            background: #fff3e0;
            color: #ff9800;
        }

        .counter-error {
            background: #ffebee;
            color: #f44336;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
            font-size: 0.9em;
        }

        .input-field {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Noto Sans JP', sans-serif;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .input-field:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea.input-field {
            resize: vertical;
            line-height: 1.6;
        }

        #titleInput {
            font-size: 16px;
            font-weight: bold;
        }

        #bodyInput {
            min-height: 300px;
        }

        .format-hint {
            margin-top: 5px;
            font-size: 0.85em;
            color: #999;
        }

        .batch-mode {
            background: #f0f7ff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .batch-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 24px;
            background: #ddd;
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .toggle-switch.active {
            background: #667eea;
        }

        .toggle-slider {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }

        .toggle-switch.active .toggle-slider {
            transform: translateX(26px);
        }

        .batch-info {
            font-size: 0.85em;
            color: #666;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            flex: 1;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .output-area {
            width: 100%;
            min-height: 400px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
            background: #f8f9fa;
            overflow-x: auto;
            white-space: pre-wrap;
            word-break: break-all;
        }

        .validation-results {
            margin-top: 20px;
            padding: 15px;
            background: #e8f5e9;
            border-radius: 8px;
            border-left: 4px solid #4caf50;
        }

        .validation-error {
            background: #ffebee;
            border-left-color: #f44336;
        }

        .validation-title {
            font-weight: bold;
            color: #2e7d32;
            margin-bottom: 10px;
        }

        .validation-error .validation-title {
            color: #c62828;
        }

        .validation-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 5px;
            font-size: 0.9em;
        }

        .validation-icon {
            font-size: 1.2em;
        }

        .download-section {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
            border-radius: 8px;
            text-align: center;
        }

        .download-btn {
            display: inline-block;
            padding: 15px 40px;
            background: linear-gradient(135deg, #4caf50, #45a049);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }

        .download-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(76, 175, 80, 0.4);
        }

        .download-info {
            margin-top: 10px;
            font-size: 0.85em;
            color: #666;
        }

        @media (max-width: 968px) {
            .main-area {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <h1>
                ğŸ“¦ WXRå‡ºåŠ› - note.comç”¨XMLç”Ÿæˆ
                <span class="priority-badge">æœ€é‡è¦</span>
            </h1>
            <a href="../index.html" class="back-btn">â† ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸</a>
        </div>
    </div>

    <div class="container">
        <div class="info-banner">
            <h3>ğŸ“Œ note.comæ¨™æº–ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ</h3>
            <p>ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆ100æ–‡å­—ï¼‰â†’ æœ¬æ–‡ï¼ˆ50000æ–‡å­—ï¼‰â†’ ã‚¿ã‚°ï¼ˆæœ€å¤§5å€‹ã€å„30æ–‡å­—ï¼‰ã®å½¢å¼ã§å…¥åŠ›ã—ã¦ãã ã•ã„</p>
        </div>

        <div class="main-area">
            <div class="input-section">
                <div class="section-header">
                    <h2 class="section-title">
                        âœï¸ å…¥åŠ›
                    </h2>
                    <div class="char-counter">
                        <div class="counter-item" id="titleCounter">
                            <span>ã‚¿ã‚¤ãƒˆãƒ«:</span>
                            <span class="counter-value">0</span>
                            <span class="counter-limit">/ 100</span>
                        </div>
                        <div class="counter-item" id="bodyCounter">
                            <span>æœ¬æ–‡:</span>
                            <span class="counter-value">0</span>
                            <span class="counter-limit">/ 50000</span>
                        </div>
                    </div>
                </div>

                <div class="batch-mode">
                    <div class="batch-toggle">
                        <label>ãƒãƒƒãƒãƒ¢ãƒ¼ãƒ‰ï¼ˆè¤‡æ•°è¨˜äº‹ï¼‰:</label>
                        <div class="toggle-switch" id="batchToggle" onclick="toggleBatchMode()">
                            <div class="toggle-slider"></div>
                        </div>
                    </div>
                    <div class="batch-info">
                        ã‚ªãƒ³ã«ã™ã‚‹ã¨ã€Œ---ã€åŒºåˆ‡ã‚Šã§è¤‡æ•°è¨˜äº‹ã‚’ä¸€æ‹¬å‡¦ç†ã§ãã¾ã™
                    </div>
                </div>

                <div class="input-group">
                    <label class="input-label" for="articleInput">è¨˜äº‹å…¥åŠ›ï¼ˆçµ±åˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰</label>
                    <textarea id="articleInput" class="input-field" style="min-height: 400px;" placeholder="ã€ã‚¿ã‚¤ãƒˆãƒ«ã€‘
AIãŒå¤‰ãˆã‚‹æœªæ¥ã®åƒãæ–¹ - 2025å¹´ã®å±•æœ›

ã€æœ¬æ–‡ã€‘
## ã¯ã˜ã‚ã«
AIæŠ€è¡“ã®æ€¥é€Ÿãªç™ºå±•ã«ã‚ˆã‚Šã€ç§ãŸã¡ã®åƒãæ–¹ã¯å¤§ããå¤‰åŒ–ã—ã¦ã„ã¾ã™ã€‚

### 1. ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ã®é€²åŒ–
- AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã«ã‚ˆã‚‹æ¥­å‹™æ”¯æ´
- ãƒãƒ¼ãƒãƒ£ãƒ«ã‚ªãƒ•ã‚£ã‚¹ã®å®Ÿç¾

### 2. æ–°ã—ã„è·æ¥­ã®èª•ç”Ÿ
AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãªã©ã€æ–°ãŸãªå°‚é–€è·ãŒç”Ÿã¾ã‚Œã¦ã„ã¾ã™ã€‚

**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ**ï¼šäººé–“ã¨AIã®å”åƒãŒéµã¨ãªã‚Šã¾ã™ã€‚

ã€ã‚¿ã‚°ã€‘
#AI #åƒãæ–¹æ”¹é© #æœªæ¥äºˆæ¸¬ #ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ #DX"></textarea>
                    <div class="format-hint">ã€ã‚¿ã‚¤ãƒˆãƒ«ã€‘ã€æœ¬æ–‡ã€‘ã€ã‚¿ã‚°ã€‘ã®é †ã«è¨˜å…¥ã—ã¦ãã ã•ã„ã€‚è¤‡æ•°è¨˜äº‹ã®å ´åˆã¯ã€Œ---ã€ã§åŒºåˆ‡ã‚Šã¾ã™</div>
                </div>

                <!-- æ—§å…¥åŠ›æ¬„ï¼ˆéè¡¨ç¤ºï¼‰ -->
                <input type="hidden" id="titleInput">
                <textarea style="display:none;" id="bodyInput"></textarea>
                <input type="hidden" id="tagsInput">

                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="loadSample()">ã‚µãƒ³ãƒ—ãƒ«èª­è¾¼</button>
                    <button class="btn btn-primary" onclick="generateWXR()">WXRç”Ÿæˆ</button>
                </div>
            </div>

            <div class="output-section">
                <div class="section-header">
                    <h2 class="section-title">
                        ğŸ“„ å‡ºåŠ›ï¼ˆWXRå½¢å¼ï¼‰
                    </h2>
                </div>

                <textarea id="outputArea" class="output-area" readonly placeholder="ç”Ÿæˆã•ã‚ŒãŸWXR XMLãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™"></textarea>

                <div id="validationResults"></div>

                <div id="downloadSection" style="display: none;">
                    <div class="download-section">
                        <button class="download-btn" onclick="downloadWXR()">
                            ğŸ“¥ WXRãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
                        </button>
                        <div class="download-info">
                            note.comã®ç®¡ç†ç”»é¢ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã¾ã™
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let batchMode = false;
        let generatedWXR = '';

        // ãƒãƒƒãƒãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ
        function toggleBatchMode() {
            batchMode = !batchMode;
            const toggle = document.getElementById('batchToggle');
            toggle.classList.toggle('active');
            
            if (batchMode) {
                document.getElementById('articleInput').placeholder = `è¤‡æ•°è¨˜äº‹ã‚’ã€Œ---ã€ã§åŒºåˆ‡ã£ã¦å…¥åŠ›:

ã€ã‚¿ã‚¤ãƒˆãƒ«ã€‘
è¨˜äº‹1ã®ã‚¿ã‚¤ãƒˆãƒ«

ã€æœ¬æ–‡ã€‘
è¨˜äº‹1ã®æœ¬æ–‡

ã€ã‚¿ã‚°ã€‘
#ã‚¿ã‚°1 #ã‚¿ã‚°2

---

ã€ã‚¿ã‚¤ãƒˆãƒ«ã€‘
è¨˜äº‹2ã®ã‚¿ã‚¤ãƒˆãƒ«

ã€æœ¬æ–‡ã€‘
è¨˜äº‹2ã®æœ¬æ–‡

ã€ã‚¿ã‚°ã€‘
#ã‚¿ã‚°3 #ã‚¿ã‚°4`;
            } else {
                document.getElementById('articleInput').placeholder = `ã€ã‚¿ã‚¤ãƒˆãƒ«ã€‘
AIãŒå¤‰ãˆã‚‹æœªæ¥ã®åƒãæ–¹ - 2025å¹´ã®å±•æœ›

ã€æœ¬æ–‡ã€‘
## ã¯ã˜ã‚ã«
AIæŠ€è¡“ã®æ€¥é€Ÿãªç™ºå±•ã«ã‚ˆã‚Šã€ç§ãŸã¡ã®åƒãæ–¹ã¯å¤§ããå¤‰åŒ–ã—ã¦ã„ã¾ã™ã€‚

### 1. ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ã®é€²åŒ–
- AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã«ã‚ˆã‚‹æ¥­å‹™æ”¯æ´
- ãƒãƒ¼ãƒãƒ£ãƒ«ã‚ªãƒ•ã‚£ã‚¹ã®å®Ÿç¾

### 2. æ–°ã—ã„è·æ¥­ã®èª•ç”Ÿ
AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãªã©ã€æ–°ãŸãªå°‚é–€è·ãŒç”Ÿã¾ã‚Œã¦ã„ã¾ã™ã€‚

**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ**ï¼šäººé–“ã¨AIã®å”åƒãŒéµã¨ãªã‚Šã¾ã™ã€‚

ã€ã‚¿ã‚°ã€‘
#AI #åƒãæ–¹æ”¹é© #æœªæ¥äºˆæ¸¬ #ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ #DX`;
            }
        }

        // çµ±åˆå…¥åŠ›ã‹ã‚‰ã®è§£æ
        function parseArticleInput() {
            const input = document.getElementById('articleInput').value;
            let title = '';
            let body = '';
            let tags = '';
            
            // ã€ã‚¿ã‚¤ãƒˆãƒ«ã€‘ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æŠ½å‡º
            const titleMatch = input.match(/ã€ã‚¿ã‚¤ãƒˆãƒ«ã€‘([\s\S]*?)(?=ã€æœ¬æ–‡ã€‘|$)/);
            if (titleMatch) {
                title = titleMatch[1].trim();
            }
            
            // ã€æœ¬æ–‡ã€‘ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æŠ½å‡º
            const bodyMatch = input.match(/ã€æœ¬æ–‡ã€‘([\s\S]*?)(?=ã€ã‚¿ã‚°ã€‘|$)/);
            if (bodyMatch) {
                body = bodyMatch[1].trim();
            }
            
            // ã€ã‚¿ã‚°ã€‘ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æŠ½å‡º
            const tagsMatch = input.match(/ã€ã‚¿ã‚°ã€‘([\s\S]*?)(?=---|$)/);
            if (tagsMatch) {
                tags = tagsMatch[1].trim();
            }
            
            // æ—§å½¢å¼äº’æ›æ€§ã®ãŸã‚ã€éš ã—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å€¤ã‚’è¨­å®š
            document.getElementById('titleInput').value = title;
            document.getElementById('bodyInput').value = body;
            document.getElementById('tagsInput').value = tags;
            
            return { title, body, tags };
        }
        
        // æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆ
        function updateCounters() {
            const { title, body } = parseArticleInput();
            
            // ã‚¿ã‚¤ãƒˆãƒ«ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼
            const titleCounter = document.getElementById('titleCounter');
            const titleCount = title.length;
            titleCounter.querySelector('.counter-value').textContent = titleCount;
            
            if (titleCount > 100) {
                titleCounter.classList.add('counter-error');
            } else if (titleCount > 80) {
                titleCounter.classList.add('counter-warn');
            } else {
                titleCounter.classList.remove('counter-error', 'counter-warn');
            }
            
            // æœ¬æ–‡ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼
            const bodyCounter = document.getElementById('bodyCounter');
            const bodyCount = body.length;
            bodyCounter.querySelector('.counter-value').textContent = bodyCount;
            
            if (bodyCount > 50000) {
                bodyCounter.classList.add('counter-error');
            } else if (bodyCount > 40000) {
                bodyCounter.classList.add('counter-warn');
            } else {
                bodyCounter.classList.remove('counter-error', 'counter-warn');
            }
        }

        // XMLã‚¨ã‚¹ã‚±ãƒ¼ãƒ—
        function escapeXml(text) {
            return text
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&apos;');
        }

        // WXRç”Ÿæˆ
        function generateWXR() {
            const title = document.getElementById('titleInput').value.trim();
            const body = document.getElementById('bodyInput').value.trim();
            const tags = document.getElementById('tagsInput').value.trim();
            
            if (!batchMode) {
                // ã‚·ãƒ³ã‚°ãƒ«ãƒ¢ãƒ¼ãƒ‰
                if (!title.trim() || !body.trim()) {
                    alert('ã‚¿ã‚¤ãƒˆãƒ«ã¨æœ¬æ–‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\n\nã€ã‚¿ã‚¤ãƒˆãƒ«ã€‘\nã‚¿ã‚¤ãƒˆãƒ«\n\nã€æœ¬æ–‡ã€‘\næœ¬æ–‡\n\nã€ã‚¿ã‚°ã€‘\n#ã‚¿ã‚°');
                    return;
                }
                
                const articles = [{
                    title: title.substring(0, 100),
                    body: body.substring(0, 50000),
                    tags: parseTags(tags)
                }];
                
                generatedWXR = createWXR(articles);
            } else {
                // ãƒãƒƒãƒãƒ¢ãƒ¼ãƒ‰
                const articles = parseBatchInput(body);
                if (articles.length === 0) {
                    alert('è¨˜äº‹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                    return;
                }
                
                generatedWXR = createWXR(articles);
            }
            
            document.getElementById('outputArea').value = generatedWXR;
            validateWXR(generatedWXR);
            document.getElementById('downloadSection').style.display = 'block';
        }

        // ã‚¿ã‚°ãƒ‘ãƒ¼ã‚¹
        function parseTags(tagsStr) {
            if (!tagsStr) return [];
            
            return tagsStr
                .split(/[\s,ã€]+/)
                .map(tag => tag.replace('#', '').trim())
                .filter(tag => tag)
                .slice(0, 5)
                .map(tag => tag.substring(0, 30));
        }

        // ãƒãƒƒãƒå…¥åŠ›ãƒ‘ãƒ¼ã‚¹
        function parseBatchInput(input) {
            const articles = [];
            const blocks = input.split('---');
            
            for (const block of blocks) {
                const lines = block.trim().split('\n');
                if (lines.length >= 2) {
                    const title = lines[0].trim().substring(0, 100);
                    const lastLine = lines[lines.length - 1];
                    const hasTag = lastLine.startsWith('#');
                    
                    const body = hasTag ? 
                        lines.slice(1, -1).join('\n').substring(0, 50000) :
                        lines.slice(1).join('\n').substring(0, 50000);
                    
                    const tags = hasTag ? parseTags(lastLine) : [];
                    
                    if (title && body) {
                        articles.push({ title, body, tags });
                    }
                }
            }
            
            return articles;
        }

        // WXR XMLä½œæˆ
        function createWXR(articles) {
            const now = new Date();
            const pubDate = now.toUTCString();
            const wxrDate = now.toISOString();
            
            let xml = `<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
    xmlns:excerpt="http://wordpress.org/export/1.2/excerpt/"
    xmlns:content="http://purl.org/rss/1.0/modules/content/"
    xmlns:wfw="http://wellformedweb.org/CommentAPI/"
    xmlns:dc="http://purl.org/dc/elements/1.1/"
    xmlns:wp="http://wordpress.org/export/1.2/">
<channel>
    <title>æ—¥åˆŠAIã‚†ãŸã•ã‚“æ–°è</title>
    <link>https://note.com/yutapii</link>
    <description>Smart Content Factory V5 Export</description>
    <pubDate>${pubDate}</pubDate>
    <language>ja</language>
    <wp:wxr_version>1.2</wp:wxr_version>
    <wp:base_site_url>https://note.com/</wp:base_site_url>
    <wp:base_blog_url>https://note.com/yutapii</wp:base_blog_url>
    
    <wp:author>
        <wp:author_login><![CDATA[yutapii]]></wp:author_login>
        <wp:author_email><![CDATA[]]></wp:author_email>
        <wp:author_display_name><![CDATA[æ—¥åˆŠAIã‚†ãŸã•ã‚“æ–°è]]></wp:author_display_name>
    </wp:author>`;

            articles.forEach((article, index) => {
                const postDate = new Date(now.getTime() + index * 1000);
                const postId = Date.now() + index;
                
                xml += `
    
    <item>
        <title>${escapeXml(article.title)}</title>
        <link>https://note.com/yutapii/n/n${postId}</link>
        <pubDate>${postDate.toUTCString()}</pubDate>
        <dc:creator><![CDATA[yutapii]]></dc:creator>
        <guid isPermaLink="false">https://note.com/yutapii/n/n${postId}</guid>
        <description></description>
        <content:encoded><![CDATA[${article.body}]]></content:encoded>
        <excerpt:encoded><![CDATA[]]></excerpt:encoded>
        <wp:post_id>${postId}</wp:post_id>
        <wp:post_date>${postDate.toISOString()}</wp:post_date>
        <wp:post_date_gmt>${postDate.toISOString()}</wp:post_date_gmt>
        <wp:comment_status>open</wp:comment_status>
        <wp:ping_status>open</wp:ping_status>
        <wp:post_name>post-${postId}</wp:post_name>
        <wp:status>publish</wp:status>
        <wp:post_parent>0</wp:post_parent>
        <wp:menu_order>0</wp:menu_order>
        <wp:post_type>post</wp:post_type>
        <wp:post_password></wp:post_password>
        <wp:is_sticky>0</wp:is_sticky>`;
                
                // ã‚¿ã‚°è¿½åŠ 
                article.tags.forEach(tag => {
                    xml += `
        <category domain="post_tag" nicename="${escapeXml(tag.toLowerCase())}"><![CDATA[${escapeXml(tag)}]]></category>`;
                });
                
                xml += `
    </item>`;
            });
            
            xml += `
</channel>
</rss>`;
            
            return xml;
        }

        // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        function validateWXR(xml) {
            const results = [];
            let hasError = false;
            
            // XMLå½¢å¼ãƒã‚§ãƒƒã‚¯
            try {
                const parser = new DOMParser();
                const doc = parser.parseFromString(xml, 'text/xml');
                const parserError = doc.querySelector('parsererror');
                
                if (parserError) {
                    results.push({ icon: 'âŒ', text: 'XMLå½¢å¼ã‚¨ãƒ©ãƒ¼', error: true });
                    hasError = true;
                } else {
                    results.push({ icon: 'âœ…', text: 'XMLå½¢å¼: æ­£å¸¸' });
                }
            } catch (e) {
                results.push({ icon: 'âŒ', text: 'XMLè§£æã‚¨ãƒ©ãƒ¼', error: true });
                hasError = true;
            }
            
            // è¨˜äº‹æ•°ãƒã‚§ãƒƒã‚¯
            const itemCount = (xml.match(/<item>/g) || []).length;
            results.push({ icon: 'ğŸ“„', text: `è¨˜äº‹æ•°: ${itemCount}ä»¶` });
            
            // æ–‡å­—æ•°ãƒã‚§ãƒƒã‚¯
            const titles = xml.match(/<title>(.*?)<\/title>/g) || [];
            let longTitle = false;
            titles.forEach(title => {
                const text = title.replace(/<\/?title>/g, '');
                if (text.length > 100) longTitle = true;
            });
            
            if (longTitle) {
                results.push({ icon: 'âš ï¸', text: 'ã‚¿ã‚¤ãƒˆãƒ«ãŒ100æ–‡å­—ã‚’è¶…ãˆã¦ã„ã¾ã™', error: true });
                hasError = true;
            } else {
                results.push({ icon: 'âœ…', text: 'ã‚¿ã‚¤ãƒˆãƒ«æ–‡å­—æ•°: OK' });
            }
            
            // çµæœè¡¨ç¤º
            const validationDiv = document.getElementById('validationResults');
            validationDiv.className = hasError ? 'validation-results validation-error' : 'validation-results';
            validationDiv.innerHTML = `
                <div class="validation-title">${hasError ? 'âš ï¸ æ¤œè¨¼çµæœ: æ³¨æ„ãŒå¿…è¦ã§ã™' : 'âœ… æ¤œè¨¼çµæœ: æ­£å¸¸'}</div>
                ${results.map(r => `
                    <div class="validation-item">
                        <span class="validation-icon">${r.icon}</span>
                        <span>${r.text}</span>
                    </div>
                `).join('')}
            `;
        }

        // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
        function downloadWXR() {
            if (!generatedWXR) {
                alert('å…ˆã«WXRã‚’ç”Ÿæˆã—ã¦ãã ã•ã„');
                return;
            }
            
            const blob = new Blob([generatedWXR], { type: 'text/xml;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `note-wxr-${new Date().toISOString().split('T')[0]}.xml`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // ã‚µãƒ³ãƒ—ãƒ«èª­è¾¼
        function loadSample() {
            document.getElementById('titleInput').value = 'AIãŒå¤‰ãˆã‚‹æœªæ¥ã®åƒãæ–¹ - 2025å¹´ã®å±•æœ›';
            document.getElementById('bodyInput').value = `## ã¯ã˜ã‚ã«

2025å¹´ã€AIæŠ€è¡“ã®æ€¥é€Ÿãªç™ºå±•ã«ã‚ˆã‚Šã€ç§ãŸã¡ã®åƒãæ–¹ã¯å¤§ããå¤‰ã‚ã‚ã†ã¨ã—ã¦ã„ã¾ã™ã€‚

### 1. è‡ªå‹•åŒ–ã®é€²å±•

å¤šãã®å®šå‹æ¥­å‹™ãŒAIã«ã‚ˆã£ã¦è‡ªå‹•åŒ–ã•ã‚Œã€äººé–“ã¯ã‚ˆã‚Šå‰µé€ çš„ãªä»•äº‹ã«é›†ä¸­ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

### 2. æ–°ã—ã„è·ç¨®ã®èª•ç”Ÿ

- AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢
- AIå€«ç†ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆ
- äººé–“-AIå”åƒã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼

### 3. å¿…è¦ãªã‚¹ã‚­ãƒ«ã®å¤‰åŒ–

ã“ã‚Œã‹ã‚‰ã®æ™‚ä»£ã«æ±‚ã‚ã‚‰ã‚Œã‚‹ã®ã¯ã€AIã‚’ä½¿ã„ã“ãªã™åŠ›ã¨ã€AIã«ã¯ã§ããªã„äººé–“ã‚‰ã—ã„å‰µé€ æ€§ã§ã™ã€‚

## ã¾ã¨ã‚

AIã¨å…±ç”Ÿã™ã‚‹æ–°ã—ã„åƒãæ–¹ã‚’ã€ç§ãŸã¡ä¸€äººã²ã¨ã‚ŠãŒæ¨¡ç´¢ã—ã¦ã„ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚`;
            
            updateCounters();
        }

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
        document.getElementById('articleInput').addEventListener('input', updateCounters);

        // åˆæœŸåŒ–
        updateCounters();
    </script>
</body>
</html>