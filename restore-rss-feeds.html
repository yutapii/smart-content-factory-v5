<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSS ãƒ•ã‚£ãƒ¼ãƒ‰å¾©å…ƒãƒ„ãƒ¼ãƒ«</title>
    <style>
        body {
            font-family: system-ui, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        .status-box {
            background: #f5f5f5;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .error-box {
            background: #ffebee;
            border-left: 4px solid #f44336;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .button-group {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: transform 0.2s;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        button.danger {
            background: linear-gradient(135deg, #f44336, #e91e63);
        }
        button.success {
            background: linear-gradient(135deg, #4caf50, #8bc34a);
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .stat-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #e0e0e0;
        }
        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: #667eea;
        }
        .stat-label {
            color: #666;
            margin-top: 5px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        th {
            background: #f5f5f5;
            font-weight: bold;
        }
        .category-badge {
            background: #e3f2fd;
            color: #1976d2;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
        }
        #log {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            max-height: 300px;
            overflow-y: auto;
            margin: 20px 0;
        }
        .log-entry {
            margin: 5px 0;
            padding: 5px;
        }
        .log-success { color: #4caf50; }
        .log-error { color: #f44336; }
        .log-info { color: #2196f3; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”„ RSS ãƒ•ã‚£ãƒ¼ãƒ‰å¾©å…ƒãƒ„ãƒ¼ãƒ«</h1>
        
        <div id="currentStatus" class="status-box">
            <h3>ç¾åœ¨ã®çŠ¶æ…‹</h3>
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-value" id="currentCount">0</div>
                    <div class="stat-label">ç¾åœ¨ã®ãƒ•ã‚£ãƒ¼ãƒ‰æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="masterCount">0</div>
                    <div class="stat-label">ãƒã‚¹ã‚¿ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="errorCount">0</div>
                    <div class="stat-label">ã‚¨ãƒ©ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰æ•°</div>
                </div>
            </div>
        </div>

        <div class="button-group">
            <button onclick="loadMasterFile()" class="success">ğŸ“¥ ãƒã‚¹ã‚¿ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿</button>
            <button onclick="restoreAllFeeds()">â™»ï¸ å…¨ãƒ•ã‚£ãƒ¼ãƒ‰å¾©å…ƒ</button>
            <button onclick="mergeMasterFeeds()">ğŸ”€ ãƒã‚¹ã‚¿ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒãƒ¼ã‚¸</button>
            <button onclick="clearAllFeeds()" class="danger">ğŸ—‘ï¸ å…¨ãƒ•ã‚£ãƒ¼ãƒ‰ã‚¯ãƒªã‚¢</button>
            <button onclick="exportCurrentFeeds()">ğŸ’¾ ç¾åœ¨ã®ãƒ•ã‚£ãƒ¼ãƒ‰ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
            <button onclick="checkErrors()">ğŸ” ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯</button>
            <button onclick="window.location.href='05_rss-reader/index.html'">ğŸ“° RSSä¸€è¦§ãƒšãƒ¼ã‚¸ã¸</button>
        </div>

        <div id="log">
            <h3>ğŸ“‹ å®Ÿè¡Œãƒ­ã‚°</h3>
        </div>

        <div id="feedTable" style="display:none;">
            <h3>ğŸ“Š ãƒ•ã‚£ãƒ¼ãƒ‰ä¸€è¦§</h3>
            <table id="feedsTableContent">
                <thead>
                    <tr>
                        <th>åå‰</th>
                        <th>ã‚«ãƒ†ã‚´ãƒª</th>
                        <th>URL</th>
                        <th>çŠ¶æ…‹</th>
                    </tr>
                </thead>
                <tbody id="feedsTableBody"></tbody>
            </table>
        </div>
    </div>

    <script>
        // ãƒã‚¹ã‚¿ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆ91ä»¶ï¼‰
        const masterFeeds = [
            {"name": "GIGAZINE", "url": "https://gigazine.net/news/rss_2.0/", "category": "ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼"},
            {"name": "ITmedia AI+", "url": "https://rss.itmedia.co.jp/rss/2.0/aiplus.xml", "category": "AIãƒ»æ©Ÿæ¢°å­¦ç¿’"},
            {"name": "NIST", "url": "https://www.nist.gov/news-events/news/rss.xml", "category": "G7å®˜å…¬åº - ã‚¢ãƒ¡ãƒªã‚«"},
            {"name": "UK Government Digital Service", "url": "https://gds.blog.gov.uk/feed/", "category": "G7å®˜å…¬åº - ã‚¤ã‚®ãƒªã‚¹"},
            {"name": "DCMS", "url": "https://www.gov.uk/government/organisations/department-for-digital-culture-media-sport.atom", "category": "G7å®˜å…¬åº - ã‚¤ã‚®ãƒªã‚¹"},
            {"name": "UKRI", "url": "https://www.ukri.org/feed/", "category": "G7å®˜å…¬åº - ã‚¤ã‚®ãƒªã‚¹"},
            {"name": "European Commission - Digital", "url": "https://digital-strategy.ec.europa.eu/rss.xml", "category": "EUæ©Ÿé–¢"},
            {"name": "Boston Dynamics", "url": "https://www.bostondynamics.com/rss.xml", "category": "ãƒ­ãƒœãƒƒãƒˆä¼æ¥­"},
            {"name": "Universal Robots", "url": "https://www.universal-robots.com/blog/rss/", "category": "ãƒ­ãƒœãƒƒãƒˆä¼æ¥­"},
            {"name": "ãƒ•ã‚¡ãƒŠãƒƒã‚¯", "url": "https://www.fanuc.co.jp/rss/news.xml", "category": "ãƒ­ãƒœãƒƒãƒˆä¼æ¥­"},
            {"name": "å®‰å·é›»æ©Ÿ", "url": "https://www.yaskawa.co.jp/rss/news.xml", "category": "ãƒ­ãƒœãƒƒãƒˆä¼æ¥­"},
            {"name": "ABB Robotics", "url": "https://new.abb.com/news/rss", "category": "ãƒ­ãƒœãƒƒãƒˆä¼æ¥­"},
            {"name": "KUKA", "url": "https://www.kuka.com/en-de/press/news/rss", "category": "ãƒ­ãƒœãƒƒãƒˆä¼æ¥­"},
            {"name": "Waymo", "url": "https://waymo.com/blog/rss/", "category": "è‡ªå‹•é‹è»¢ä¼æ¥­"},
            {"name": "Cruise", "url": "https://getcruise.com/news/rss/", "category": "è‡ªå‹•é‹è»¢ä¼æ¥­"},
            {"name": "Aurora", "url": "https://aurora.tech/blog/rss", "category": "è‡ªå‹•é‹è»¢ä¼æ¥­"},
            {"name": "Mobileye", "url": "https://www.mobileye.com/feed/", "category": "è‡ªå‹•é‹è»¢ä¼æ¥­"},
            {"name": "Baidu Apollo", "url": "http://apollo.auto/feed.xml", "category": "è‡ªå‹•é‹è»¢ä¼æ¥­"},
            {"name": "Tesla", "url": "https://www.tesla.com/blog/rss", "category": "è‡ªå‹•é‹è»¢ä¼æ¥­"},
            {"name": "Qualcomm", "url": "https://www.qualcomm.com/news/rss", "category": "é€šä¿¡ä¼æ¥­"},
            {"name": "Ericsson", "url": "https://www.ericsson.com/en/news/rss", "category": "é€šä¿¡ä¼æ¥­"},
            {"name": "Nokia", "url": "https://www.nokia.com/about-us/news/releases/rss.xml", "category": "é€šä¿¡ä¼æ¥­"},
            {"name": "Huawei", "url": "https://www.huawei.com/en/news/rss", "category": "é€šä¿¡ä¼æ¥­"},
            {"name": "Cisco", "url": "https://newsroom.cisco.com/c/allnews.rss", "category": "é€šä¿¡ä¼æ¥­"},
            {"name": "NTT R&D", "url": "https://www.rd.ntt/rss/", "category": "é€šä¿¡ä¼æ¥­"},
            {"name": "White House - Technology", "url": "https://www.whitehouse.gov/feed/", "category": "G7å®˜å…¬åº - ã‚¢ãƒ¡ãƒªã‚«"},
            {"name": "FCC", "url": "https://www.fcc.gov/rss/blog/rss.xml", "category": "G7å®˜å…¬åº - ã‚¢ãƒ¡ãƒªã‚«"},
            {"name": "NSF", "url": "https://www.nsf.gov/news/RSS/rss.xml", "category": "G7å®˜å…¬åº - ã‚¢ãƒ¡ãƒªã‚«"},
            {"name": "ãƒ‡ã‚¸ã‚¿ãƒ«åº", "url": "https://www.digital.go.jp/feed/", "category": "G7å®˜å…¬åº - æ—¥æœ¬"},
            {"name": "ç·å‹™çœ", "url": "https://www.soumu.go.jp/news/rss/index.xml", "category": "G7å®˜å…¬åº - æ—¥æœ¬"},
            {"name": "çµŒæ¸ˆç”£æ¥­çœ", "url": "https://www.meti.go.jp/news/rss/index.xml", "category": "G7å®˜å…¬åº - æ—¥æœ¬"},
            {"name": "NEDO", "url": "https://www.nedo.go.jp/news/rss/index.xml", "category": "G7å®˜å…¬åº - æ—¥æœ¬"},
            {"name": "BMWK", "url": "https://www.bmwk.de/Navigation/DE/Service/RSS/rss.xml", "category": "G7å®˜å…¬åº - ãƒ‰ã‚¤ãƒ„"},
            {"name": "BMBF", "url": "https://www.bmbf.de/SiteGlobals/Functions/RSSFeed/BMBF_RSSNewsfeed.xml", "category": "G7å®˜å…¬åº - ãƒ‰ã‚¤ãƒ„"},
            {"name": "BSI", "url": "https://www.bsi.bund.de/SharedDocs/RSS/DE/BSI-Presse.xml", "category": "G7å®˜å…¬åº - ãƒ‰ã‚¤ãƒ„"},
            {"name": "MinistÃ¨re de l'Ã‰conomie", "url": "https://www.economie.gouv.fr/rss/actu", "category": "G7å®˜å…¬åº - ãƒ•ãƒ©ãƒ³ã‚¹"},
            {"name": "ANSSI", "url": "https://www.ssi.gouv.fr/feed/", "category": "G7å®˜å…¬åº - ãƒ•ãƒ©ãƒ³ã‚¹"},
            {"name": "Inria", "url": "https://www.inria.fr/fr/feeds/actualites.xml", "category": "G7å®˜å…¬åº - ãƒ•ãƒ©ãƒ³ã‚¹"},
            {"name": "AGID", "url": "https://www.agid.gov.it/it/rss.xml", "category": "G7å®˜å…¬åº - ã‚¤ã‚¿ãƒªã‚¢"},
            {"name": "MISE", "url": "https://www.mise.gov.it/index.php/it/?format=feed", "category": "G7å®˜å…¬åº - ã‚¤ã‚¿ãƒªã‚¢"},
            {"name": "ISED Canada", "url": "https://www.canada.ca/en/innovation-science-economic-development.rss", "category": "G7å®˜å…¬åº - ã‚«ãƒŠãƒ€"},
            {"name": "Canadian Digital Service", "url": "https://digital.canada.ca/feed.xml", "category": "G7å®˜å…¬åº - ã‚«ãƒŠãƒ€"},
            {"name": "NRC Canada", "url": "https://nrc.canada.ca/en/rss/news", "category": "G7å®˜å…¬åº - ã‚«ãƒŠãƒ€"},
            {"name": "European Commission - Digital", "url": "https://digital-strategy.ec.europa.eu/en/news-redirect/rss.xml", "category": "EUæ©Ÿé–¢"},
            {"name": "ENISA", "url": "https://www.enisa.europa.eu/front-page/RSS", "category": "EUæ©Ÿé–¢"},
            {"name": "TechCrunch Japan", "url": "https://techcrunch.com/feed/", "category": "ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼"},
            {"name": "OpenAI Blog", "url": "https://openai.com/news/rss.xml", "category": "AIç ”ç©¶æ©Ÿé–¢"},
            {"name": "Google AI Blog", "url": "https://blog.google/technology/ai/rss/", "category": "AIç ”ç©¶æ©Ÿé–¢"},
            {"name": "DeepMind Blog", "url": "https://deepmind.google/blog/rss.xml", "category": "AIç ”ç©¶æ©Ÿé–¢"},
            {"name": "Microsoft AI Blog", "url": "https://blogs.microsoft.com/ai/feed/", "category": "AIç ”ç©¶æ©Ÿé–¢"},
            {"name": "arXiv AI", "url": "https://export.arxiv.org/rss/cs.AI", "category": "å­¦è¡“è«–æ–‡"},
            {"name": "arXiv Machine Learning", "url": "https://export.arxiv.org/rss/cs.LG", "category": "å­¦è¡“è«–æ–‡"},
            {"name": "arXiv Neural Computing", "url": "https://export.arxiv.org/rss/cs.NE", "category": "å­¦è¡“è«–æ–‡"},
            {"name": "MIT CSAIL News", "url": "https://www.csail.mit.edu/rss.xml", "category": "å¤§å­¦ç ”ç©¶æ©Ÿé–¢"},
            {"name": "ç†åŒ–å­¦ç ”ç©¶æ‰€ AIP", "url": "https://aip.riken.jp/feed/", "category": "æ—¥æœ¬ã®AIç ”ç©¶"},
            {"name": "Preferred Networks", "url": "https://tech.preferred.jp/ja/blog/feed/", "category": "æ—¥æœ¬ã®AIä¼æ¥­"},
            {"name": "Hugging Face Blog", "url": "https://huggingface.co/blog/feed.xml", "category": "AIä¼æ¥­"},
            {"name": "AWS ML Blog", "url": "https://aws.amazon.com/blogs/machine-learning/feed/", "category": "ã‚¯ãƒ©ã‚¦ãƒ‰AI"},
            {"name": "TechCrunch Japan", "url": "https://jp.techcrunch.com/feed/", "category": "ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼"},
            {"name": "DeepSeek", "url": "https://www.deepseek.com/feed/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "DeepSeek GitHub", "url": "https://github.com/deepseek-ai.atom", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "Baidu AI (ERNIE)", "url": "http://ai.baidu.com/rss/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "Baidu Research", "url": "http://research.baidu.com/feed/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "Alibaba Cloud AI", "url": "https://www.alibabacloud.com/blog/feed/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "Alibaba DAMO Academy", "url": "https://damo.alibaba.com/labs/feed/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "ModelScope (Alibaba)", "url": "https://modelscope.cn/api/v1/models/feed.rss", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "ByteDance AI Lab", "url": "https://ailab.bytedance.com/feed/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "ByteDance Research", "url": "https://research.bytedance.com/feed/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "Tencent AI Lab", "url": "https://ai.tencent.com/ailab/en/rss/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "Tencent Cloud AI", "url": "https://cloud.tencent.com/developer/feed", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "SenseTime", "url": "https://www.sensetime.com/en/news/feed/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "Megvii", "url": "https://en.megvii.com/news/feed/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "iFLYTEK", "url": "https://www.iflytek.com/en/news/rss.xml", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "Huawei AI", "url": "https://www.huawei.com/en/news/ai/rss", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "JD AI Research", "url": "https://air.jd.com/feed/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "Xiaomi AI", "url": "https://ai.xiaomi.com/feed/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "Zhipu AI", "url": "https://www.zhipuai.cn/feed/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "01.AI (Yi)", "url": "https://01.ai/feed/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "MiniMax", "url": "https://www.minimaxi.com/feed/", "category": "ä¸­å›½AIä¼æ¥­"},
            {"name": "AIç§‘æŠ€è©•è«–", "url": "https://www.leiphone.com/category/ai/feed", "category": "ä¸­å›½AIé–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹"},
            {"name": "36Kr AI", "url": "https://36kr.com/feed/section/ai", "category": "ä¸­å›½AIé–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹"},
            {"name": "æ©Ÿå™¨ä¹‹å¿ƒ", "url": "https://www.jiqizhixin.com/rss", "category": "ä¸­å›½AIé–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹"},
            {"name": "é‡å­ä½", "url": "https://www.qbitai.com/feed", "category": "ä¸­å›½AIé–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹"},
            {"name": "PaperWeekly", "url": "https://www.paperweekly.site/feed/", "category": "ä¸­å›½AIé–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹"},
            {"name": "ä¸­å›½ç§‘å­¦é™¢", "url": "http://www.cas.cn/rss/kydt.xml", "category": "ä¸­å›½æ”¿åºœãƒ»ç ”ç©¶æ©Ÿé–¢"},
            {"name": "æ¸…è¯å¤§å­¦AIç ”ç©¶é™¢", "url": "https://ai.tsinghua.edu.cn/feed/", "category": "ä¸­å›½æ”¿åºœãƒ»ç ”ç©¶æ©Ÿé–¢"},
            {"name": "åŒ—äº¬å¤§å­¦AIç ”ç©¶é™¢", "url": "https://ai.pku.edu.cn/feed/", "category": "ä¸­å›½æ”¿åºœãƒ»ç ”ç©¶æ©Ÿé–¢"},
            {"name": "MIITï¼ˆå·¥æ¥­æƒ…å ±åŒ–éƒ¨ï¼‰", "url": "https://www.miit.gov.cn/rss/index.xml", "category": "ä¸­å›½æ”¿åºœãƒ»ç ”ç©¶æ©Ÿé–¢"},
            {"name": "CACï¼ˆç½‘ä¿¡åŠï¼‰", "url": "http://www.cac.gov.cn/rss.xml", "category": "ä¸­å›½æ”¿åºœãƒ»ç ”ç©¶æ©Ÿé–¢"},
            {"name": "Ledge.ai", "url": "https://ledge.ai/rss/", "category": "AIãƒ»æ©Ÿæ¢°å­¦ç¿’"},
            {"name": "google", "url": "https://news.google.com/rss/topics/CAAqIQgKIhtDQkFTRGdvSUwyMHZNRE5mTTJRU0FtcGhLQUFQAQ?hl=ja&gl=JP&ceid=JP:ja", "category": ""}
        ];

        function log(message, type = 'info') {
            const logDiv = document.getElementById('log');
            const entry = document.createElement('div');
            entry.className = `log-entry log-${type}`;
            const timestamp = new Date().toLocaleTimeString('ja-JP');
            entry.textContent = `[${timestamp}] ${message}`;
            logDiv.appendChild(entry);
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        function updateStats() {
            const currentFeeds = JSON.parse(localStorage.getItem('rss-feeds') || '[]');
            document.getElementById('currentCount').textContent = currentFeeds.length;
            document.getElementById('masterCount').textContent = masterFeeds.length;
            
            // ã‚¨ãƒ©ãƒ¼æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
            const errorCount = currentFeeds.filter(feed => 
                (feed.errorType && feed.errorType !== '') || 
                feed.status === 'ã‚¨ãƒ©ãƒ¼' || 
                feed.status === 'âŒ ã‚¨ãƒ©ãƒ¼'
            ).length;
            document.getElementById('errorCount').textContent = errorCount;
            
            log(`çµ±è¨ˆæ›´æ–°: ç¾åœ¨${currentFeeds.length}ä»¶ã€ã‚¨ãƒ©ãƒ¼${errorCount}ä»¶`, 'info');
        }

        function loadMasterFile() {
            log(`ãƒã‚¹ã‚¿ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿é–‹å§‹: ${masterFeeds.length}ä»¶`, 'info');
            
            // ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤º
            const tbody = document.getElementById('feedsTableBody');
            tbody.innerHTML = '';
            
            masterFeeds.forEach(feed => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${feed.name}</td>
                    <td><span class="category-badge">${feed.category || 'æœªåˆ†é¡'}</span></td>
                    <td style="font-size: 12px; max-width: 300px; overflow: hidden; text-overflow: ellipsis;">${feed.url}</td>
                    <td>ãƒã‚¹ã‚¿ãƒ¼</td>
                `;
            });
            
            document.getElementById('feedTable').style.display = 'block';
            log(`ãƒã‚¹ã‚¿ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿å®Œäº†: ${masterFeeds.length}ä»¶ã®ãƒ•ã‚£ãƒ¼ãƒ‰ã‚’è¡¨ç¤º`, 'success');
        }

        function restoreAllFeeds() {
            if (!confirm('ç¾åœ¨ã®ãƒ•ã‚£ãƒ¼ãƒ‰ã‚’å…¨ã¦å‰Šé™¤ã—ã¦ã€ãƒã‚¹ã‚¿ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å¾©å…ƒã—ã¾ã™ã‹ï¼Ÿ')) {
                return;
            }
            
            log('å…¨ãƒ•ã‚£ãƒ¼ãƒ‰å¾©å…ƒé–‹å§‹', 'info');
            
            // ãƒã‚¹ã‚¿ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¢å¼ã«å¤‰æ›
            const feedsForStorage = masterFeeds.map(feed => ({
                ...feed,
                active: true,
                lastChecked: null,
                status: 'æœªãƒ†ã‚¹ãƒˆ',
                errorType: null,
                addedAt: new Date().toISOString()
            }));
            
            localStorage.setItem('rss-feeds', JSON.stringify(feedsForStorage));
            
            updateStats();
            log(`âœ… ${masterFeeds.length}ä»¶ã®ãƒ•ã‚£ãƒ¼ãƒ‰ã‚’å¾©å…ƒã—ã¾ã—ãŸ`, 'success');
            
            setTimeout(() => {
                if (confirm('RSSä¸€è¦§ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã¾ã™ã‹ï¼Ÿ')) {
                    window.location.href = '05_rss-reader/index.html';
                }
            }, 1000);
        }

        function mergeMasterFeeds() {
            log('ãƒãƒ¼ã‚¸å‡¦ç†é–‹å§‹', 'info');
            
            const currentFeeds = JSON.parse(localStorage.getItem('rss-feeds') || '[]');
            const currentUrls = new Set(currentFeeds.map(f => f.url));
            
            let addedCount = 0;
            const mergedFeeds = [...currentFeeds];
            
            masterFeeds.forEach(masterFeed => {
                if (!currentUrls.has(masterFeed.url)) {
                    mergedFeeds.push({
                        ...masterFeed,
                        active: true,
                        lastChecked: null,
                        status: 'æœªãƒ†ã‚¹ãƒˆ',
                        errorType: null,
                        addedAt: new Date().toISOString()
                    });
                    addedCount++;
                    log(`è¿½åŠ : ${masterFeed.name}`, 'success');
                }
            });
            
            localStorage.setItem('rss-feeds', JSON.stringify(mergedFeeds));
            
            updateStats();
            log(`âœ… ãƒãƒ¼ã‚¸å®Œäº†: ${addedCount}ä»¶ã®æ–°è¦ãƒ•ã‚£ãƒ¼ãƒ‰ã‚’è¿½åŠ ï¼ˆåˆè¨ˆ: ${mergedFeeds.length}ä»¶ï¼‰`, 'success');
        }

        function clearAllFeeds() {
            if (!confirm('æœ¬å½“ã«å…¨ã¦ã®ãƒ•ã‚£ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚')) {
                return;
            }
            
            localStorage.removeItem('rss-feeds');
            updateStats();
            log('âš ï¸ å…¨ãƒ•ã‚£ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã—ã¾ã—ãŸ', 'error');
        }

        function exportCurrentFeeds() {
            const feeds = JSON.parse(localStorage.getItem('rss-feeds') || '[]');
            const dataStr = JSON.stringify(feeds, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `rss-feeds-backup-${new Date().toISOString().split('T')[0]}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            log(`ğŸ’¾ ${feeds.length}ä»¶ã®ãƒ•ã‚£ãƒ¼ãƒ‰ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ`, 'success');
        }

        function checkErrors() {
            const feeds = JSON.parse(localStorage.getItem('rss-feeds') || '[]');
            
            const errors = feeds.filter(feed => 
                (feed.errorType && feed.errorType !== '') || 
                feed.status === 'ã‚¨ãƒ©ãƒ¼' || 
                feed.status === 'âŒ ã‚¨ãƒ©ãƒ¼'
            );
            
            if (errors.length === 0) {
                log('âœ… ã‚¨ãƒ©ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ã¯ã‚ã‚Šã¾ã›ã‚“', 'success');
            } else {
                log(`âš ï¸ ${errors.length}ä»¶ã®ã‚¨ãƒ©ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ:`, 'error');
                errors.forEach(feed => {
                    log(`  - ${feed.name}: ${feed.errorType || feed.status}`, 'error');
                });
            }
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«çµ±è¨ˆã‚’æ›´æ–°
        window.addEventListener('load', () => {
            updateStats();
            log('RSS ãƒ•ã‚£ãƒ¼ãƒ‰å¾©å…ƒãƒ„ãƒ¼ãƒ«ã‚’èµ·å‹•ã—ã¾ã—ãŸ', 'info');
            
            // ç¾åœ¨ã®ãƒ•ã‚£ãƒ¼ãƒ‰æ•°ã‚’ãƒã‚§ãƒƒã‚¯
            const currentFeeds = JSON.parse(localStorage.getItem('rss-feeds') || '[]');
            if (currentFeeds.length === 0) {
                log('âš ï¸ ç¾åœ¨ãƒ•ã‚£ãƒ¼ãƒ‰ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã€Œãƒã‚¹ã‚¿ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ã€â†’ã€Œå…¨ãƒ•ã‚£ãƒ¼ãƒ‰å¾©å…ƒã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„', 'error');
            }
        });
    </script>
</body>
</html>