<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSS2JSON API Key å–å¾—ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body {
            font-family: system-ui, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        .step {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #2196f3;
        }
        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #2196f3;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            font-weight: bold;
            margin-right: 10px;
        }
        .highlight {
            background: #fffde7;
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: bold;
        }
        .code-box {
            background: #263238;
            color: #aed581;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        .warning {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .success {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin: 10px 5px;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .api-key-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #2196f3;
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
            margin: 10px 0;
        }
        .link-button {
            display: inline-block;
            background: #2196f3;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            margin: 5px;
        }
        .link-button:hover {
            background: #1976d2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”‘ RSS2JSON API Key å–å¾—ã‚¬ã‚¤ãƒ‰</h1>
        
        <div class="success">
            <strong>âœ… ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆæ¸ˆã¿ã¨ã®ã“ã¨ï¼</strong><br>
            ä»¥ä¸‹ã®æ‰‹é †ã§API Keyã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
        </div>

        <div class="step">
            <div><span class="step-number">1</span><strong>RSS2JSONã«ãƒ­ã‚°ã‚¤ãƒ³</strong></div>
            <p>æ—¢ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ãªã®ã§ã€ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„ã€‚</p>
            <a href="https://rss2json.com/login" target="_blank" class="link-button">ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã‚’é–‹ã</a>
        </div>

        <div class="step">
            <div><span class="step-number">2</span><strong>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§API Keyç¢ºèª</strong></div>
            <p>ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¾ãŸã¯ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®šã§API KeyãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
            <p>é€šå¸¸ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå ´æ‰€ã«ã‚ã‚Šã¾ã™ï¼š</p>
            <ul>
                <li><span class="highlight">Dashboard</span> â†’ API Key ã‚»ã‚¯ã‚·ãƒ§ãƒ³</li>
                <li><span class="highlight">Settings</span> â†’ API Configuration</li>
                <li><span class="highlight">My Account</span> â†’ API Access</li>
            </ul>
        </div>

        <div class="step">
            <div><span class="step-number">3</span><strong>API Keyã‚’ã‚³ãƒ”ãƒ¼</strong></div>
            <p>40æ–‡å­—ã®è‹±æ•°å­—ã®æ–‡å­—åˆ—ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™ã€‚</p>
            <div class="code-box">
                ä¾‹: a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0
            </div>
        </div>

        <div class="step">
            <div><span class="step-number">4</span><strong>API Keyã‚’è¨­å®š</strong></div>
            <p>å–å¾—ã—ãŸAPI Keyã‚’ä¸‹è¨˜ã«å…¥åŠ›ã—ã¦ä¿å­˜ã—ã¾ã™ï¼š</p>
            <input type="text" 
                   id="apiKeyInput" 
                   class="api-key-input" 
                   placeholder="RSS2JSON API Keyã‚’è²¼ã‚Šä»˜ã‘ï¼ˆ40æ–‡å­—ï¼‰"
                   maxlength="40">
            <button onclick="saveApiKey()">API Keyã‚’ä¿å­˜</button>
            <button onclick="testApiKey()">å‹•ä½œãƒ†ã‚¹ãƒˆ</button>
            <div id="result"></div>
        </div>

        <div class="warning">
            <strong>âš ï¸ æ³¨æ„äº‹é …</strong>
            <ul>
                <li>API Keyã¯ä»–äººã«å…±æœ‰ã—ãªã„ã§ãã ã•ã„</li>
                <li>ç„¡æ–™ãƒ—ãƒ©ãƒ³: 10,000ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ—¥</li>
                <li>91ãƒ•ã‚£ãƒ¼ãƒ‰ Ã— 1æ—¥10å› = 910ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆä½™è£•ã‚ã‚Šï¼‰</li>
            </ul>
        </div>

        <div class="step">
            <div><span class="step-number">5</span><strong>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ›´æ–°</strong></div>
            <p>API Keyã‚’å–å¾—ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ï¼š</p>
            <div class="code-box">
                /40_settings/api-config.js<br><br>
                RSS2JSON_API_KEY: 'ã“ã“ã«ã‚ãªãŸã®API Key',
            </div>
        </div>

        <h2>ğŸ“Š ãƒ—ãƒ©ãƒ³æƒ…å ±ç¢ºèª</h2>
        <div class="step">
            <p>ç¾åœ¨ã®ãƒ—ãƒ©ãƒ³ã¨ä½¿ç”¨çŠ¶æ³ã¯ä»¥ä¸‹ã§ç¢ºèªã§ãã¾ã™ï¼š</p>
            <a href="https://rss2json.com/plans" target="_blank" class="link-button">ãƒ—ãƒ©ãƒ³ç¢ºèª</a>
            <a href="https://rss2json.com/dashboard" target="_blank" class="link-button">ä½¿ç”¨çŠ¶æ³ç¢ºèª</a>
        </div>
    </div>

    <script>
        function saveApiKey() {
            const apiKey = document.getElementById('apiKeyInput').value.trim();
            
            if (!apiKey) {
                document.getElementById('result').innerHTML = 
                    '<div style="color: red; margin-top: 10px;">API Keyã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>';
                return;
            }
            
            if (apiKey.length !== 40) {
                document.getElementById('result').innerHTML = 
                    '<div style="color: orange; margin-top: 10px;">API Keyã¯é€šå¸¸40æ–‡å­—ã§ã™ã€‚ç¢ºèªã—ã¦ãã ã•ã„ã€‚</div>';
            }
            
            // LocalStorageã«ä¿å­˜
            localStorage.setItem('rss2json-api-key', apiKey);
            
            document.getElementById('result').innerHTML = 
                '<div style="color: green; margin-top: 10px;">âœ… API Keyã‚’ä¿å­˜ã—ã¾ã—ãŸï¼</div>';
            
            // api-config.jsã®æ›´æ–°ã‚’ä¿ƒã™
            setTimeout(() => {
                alert('API Keyã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚\n\næ¬¡ã« /40_settings/api-config.js ãƒ•ã‚¡ã‚¤ãƒ«ã® RSS2JSON_API_KEY ã«åŒã˜ã‚­ãƒ¼ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚');
            }, 500);
        }
        
        async function testApiKey() {
            const apiKey = document.getElementById('apiKeyInput').value.trim() || 
                          localStorage.getItem('rss2json-api-key');
            
            if (!apiKey) {
                document.getElementById('result').innerHTML = 
                    '<div style="color: red; margin-top: 10px;">API Keyã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>';
                return;
            }
            
            document.getElementById('result').innerHTML = 
                '<div style="color: blue; margin-top: 10px;">ãƒ†ã‚¹ãƒˆä¸­...</div>';
            
            try {
                const testUrl = 'https://gigazine.net/news/rss_2.0/';
                const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(testUrl)}&api_key=${apiKey}&count=1`;
                
                const response = await fetch(apiUrl);
                const data = await response.json();
                
                if (data.status === 'ok') {
                    document.getElementById('result').innerHTML = 
                        `<div style="color: green; margin-top: 10px;">
                            âœ… API Keyæœ‰åŠ¹ï¼<br>
                            ãƒ†ã‚¹ãƒˆæˆåŠŸ: ${data.feed.title}<br>
                            è¨˜äº‹æ•°: ${data.items.length}ä»¶å–å¾—
                        </div>`;
                } else {
                    document.getElementById('result').innerHTML = 
                        `<div style="color: red; margin-top: 10px;">
                            âŒ ã‚¨ãƒ©ãƒ¼: ${data.message}
                        </div>`;
                }
            } catch (error) {
                document.getElementById('result').innerHTML = 
                    `<div style="color: red; margin-top: 10px;">
                        âŒ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼: ${error.message}
                    </div>`;
            }
        }
        
        // ä¿å­˜æ¸ˆã¿ã®ã‚­ãƒ¼ãŒã‚ã‚Œã°è¡¨ç¤º
        window.addEventListener('load', () => {
            const savedKey = localStorage.getItem('rss2json-api-key');
            if (savedKey) {
                document.getElementById('apiKeyInput').value = savedKey;
                document.getElementById('result').innerHTML = 
                    '<div style="color: blue; margin-top: 10px;">ğŸ“ ä¿å­˜æ¸ˆã¿ã®API Keyã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ</div>';
            }
        });
    </script>
</body>
</html>