<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®Ÿãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</title>
    <style>
        body {
            font-family: sans-serif;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .data-section {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
        }
        .success {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #5a67d8;
        }
        textarea {
            width: 100%;
            height: 300px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“Š note.com å®Ÿãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</h1>
        
        <div class="data-section">
            <h2>ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆ2025å¹´8æœˆ11æ—¥ã€œ8æœˆ17æ—¥ï¼‰</h2>
            <p>å…¨ä½“ãƒ“ãƒ¥ãƒ¼: <strong>158</strong> | ã‚³ãƒ¡ãƒ³ãƒˆ: <strong>0</strong> | ã‚¹ã‚­: <strong>11</strong></p>
        </div>
        
        <div class="data-section">
            <h3>è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ï¼ˆCSVå½¢å¼ï¼‰</h3>
            <textarea id="csvData">ã€2025å¹´ç‰ˆã€‘CPUã‚³ã‚¢æ•°ã®é¸ã³æ–¹ - 4ã‚³ã‚¢ã§ååˆ†ï¼Ÿ16ã‚³ã‚¢å¿…è¦ï¼Ÿç”¨é€”åˆ¥å®Œå…¨ã‚¬ã‚¤ãƒ‰, 22, 0, 0
å†·ãŸã„GPT-5sã‚’ç†æƒ³ã®æ‹äºº&è¦ªå‹ã«å¤‰ãˆã‚‹ç¦æ–­ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯å¤§å…¬é–‹ï¼, 22, 0, 2
OpenAIåˆã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«ã€ŒGPT-OSS-20bã€å¾¹åº•è§£èª¬ - è‡ªå®…PCã§å‹•ã, 17, 0, 1
Claude Codeå¾¹åº•è§£èª¬ - ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ä½ã‚€AIãŒå¤‰ãˆã‚‹é–‹ç™ºç¾å ´, 13, 0, 2
ç¦é…’34æ—¥ç›®ã§åˆ†ã‹ã£ãŸã“ã¨, 9, 0, 0
ã‚µãƒƒã‚«ãƒ¼ãƒ•ã‚¡ãƒ³ãŒæœ€å¼·GPUæƒ…å ±æºã ã£ãŸRTX5090ã‚’25%å®‰ãè²·ãˆã‚‹å¯èƒ½æ€§ãŒè¦‹ãˆãŸè¨˜å…¥, 8, 0, 0
AIãƒ¡ã‚¬ãƒãŒãªã„ã¨å‡ºä¸–ã§ããªã„æ™‚ä»£, 8, 0, 0</textarea>
            
            <p>å½¢å¼: ã‚¿ã‚¤ãƒˆãƒ«, ãƒ“ãƒ¥ãƒ¼æ•°, ã‚³ãƒ¡ãƒ³ãƒˆæ•°, ã‚¹ã‚­æ•°</p>
        </div>
        
        <button onclick="clearCurrentData()">ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢</button>
        <button onclick="importData()">ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</button>
        <button onclick="viewCurrentData()">ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª</button>
        <button onclick="window.open('http://localhost:8080/posts/index.html', '_blank')">æŠ•ç¨¿ç®¡ç†ãƒšãƒ¼ã‚¸ã‚’é–‹ã</button>
        
        <div id="result"></div>
    </div>

    <script>
        function clearCurrentData() {
            if (confirm('ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’å…¨ã¦å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {
                localStorage.removeItem('posts-data');
                document.getElementById('result').innerHTML = '<div class="success">âœ… ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ</div>';
            }
        }
        
        function importData() {
            const csvText = document.getElementById('csvData').value;
            const lines = csvText.trim().split('\n');
            const posts = [];
            
            lines.forEach(line => {
                const parts = line.split(',').map(p => p.trim());
                if (parts.length >= 4) {
                    posts.push({
                        id: Date.now() + Math.random(),
                        title: parts[0],
                        url: `https://note.com/yutapii/n/n${Math.random().toString(36).substr(2, 9)}`,
                        date: new Date().toISOString().split('T')[0],
                        views: parseInt(parts[1]) || 0,
                        comments: parseInt(parts[2]) || 0,
                        likes: parseInt(parts[3]) || 0,
                        status: 'published'
                    });
                }
            });
            
            // æ—¢å­˜ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
            const existingData = localStorage.getItem('posts-data');
            let allPosts = existingData ? JSON.parse(existingData) : [];
            
            // æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ 
            allPosts = [...posts, ...allPosts];
            
            // ä¿å­˜
            localStorage.setItem('posts-data', JSON.stringify(allPosts));
            
            document.getElementById('result').innerHTML = `
                <div class="success">
                    âœ… ${posts.length}ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ<br>
                    ç·æŠ•ç¨¿æ•°: ${allPosts.length}ä»¶<br>
                    ç·ãƒ“ãƒ¥ãƒ¼æ•°: ${allPosts.reduce((sum, p) => sum + p.views, 0)}<br>
                    ç·ã‚¹ã‚­æ•°: ${allPosts.reduce((sum, p) => sum + p.likes, 0)}
                </div>
            `;
        }
        
        function viewCurrentData() {
            const data = localStorage.getItem('posts-data');
            if (data) {
                const posts = JSON.parse(data);
                const totalViews = posts.reduce((sum, p) => sum + (p.views || 0), 0);
                const totalLikes = posts.reduce((sum, p) => sum + (p.likes || 0), 0);
                
                document.getElementById('result').innerHTML = `
                    <div class="data-section">
                        <h3>ç¾åœ¨ã®LocalStorageãƒ‡ãƒ¼ã‚¿</h3>
                        <p>æŠ•ç¨¿æ•°: ${posts.length}ä»¶</p>
                        <p>ç·ãƒ“ãƒ¥ãƒ¼æ•°: ${totalViews}</p>
                        <p>ç·ã‚¹ã‚­æ•°: ${totalLikes}</p>
                        <h4>æœ€æ–°5ä»¶:</h4>
                        <ul>
                            ${posts.slice(0, 5).map(p => `
                                <li>${p.title.substring(0, 30)}... (${p.views}ãƒ“ãƒ¥ãƒ¼, ${p.likes}ã‚¹ã‚­)</li>
                            `).join('')}
                        </ul>
                    </div>
                `;
            } else {
                document.getElementById('result').innerHTML = '<div class="data-section">ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“</div>';
            }
        }
    </script>
</body>
</html>