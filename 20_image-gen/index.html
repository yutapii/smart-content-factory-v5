<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÁîªÂÉèÁîüÊàê V2 - ÂÆüÁî®Áâà | SCF V5</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #333;
            font-size: 2em;
        }

        .service-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .service-card {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s;
            cursor: pointer;
            background: white;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            border-color: #667eea;
        }

        .service-card.active {
            background: linear-gradient(135deg, rgba(102,126,234,0.1), rgba(118,75,162,0.1));
            border-color: #667eea;
        }

        .service-name {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .service-desc {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .service-features {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .feature-tag {
            background: #f0f0f0;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            color: #555;
        }

        .prompt-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .prompt-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .prompt-title {
            font-weight: bold;
            color: #333;
        }

        .template-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
        }

        .template-btn:hover {
            background: #5a6fc8;
        }

        .prompt-input {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: inherit;
            font-size: 14px;
            resize: vertical;
        }

        .prompt-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102,126,234,0.1);
        }

        .enhancement-section {
            margin-top: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }

        .enhancement-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .enhancement-options {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .enhancement-chip {
            background: white;
            border: 1px solid #ddd;
            padding: 6px 12px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9em;
        }

        .enhancement-chip:hover {
            background: #f0f0f0;
        }

        .enhancement-chip.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .action-section {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .action-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-generate {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-generate:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102,126,234,0.4);
        }

        .btn-copy {
            background: #28a745;
            color: white;
        }

        .btn-copy:hover {
            background: #218838;
        }

        .btn-clear {
            background: #6c757d;
            color: white;
        }

        .btn-clear:hover {
            background: #5a6268;
        }

        .history-section {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .history-title {
            font-weight: bold;
            color: #333;
        }

        .history-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .history-item {
            background: white;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.2s;
        }

        .history-item:hover {
            background: #f8f9fa;
            border-color: #667eea;
        }

        .history-prompt {
            font-size: 0.9em;
            color: #333;
            margin-bottom: 5px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .history-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.8em;
            color: #666;
        }

        .templates-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .templates-modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.3em;
            font-weight: bold;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            color: #666;
        }

        .template-list {
            display: grid;
            gap: 10px;
        }

        .template-item {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .template-item:hover {
            background: #e9ecef;
        }

        .template-name {
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }

        .template-text {
            font-size: 0.9em;
            color: #666;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .info-box h3 {
            color: #1976d2;
            margin-bottom: 10px;
        }

        .info-box p {
            color: #555;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .service-grid {
                grid-template-columns: 1fr;
            }
            
            .action-section {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé® AIÁîªÂÉèÁîüÊàê„Éó„É≠„É≥„Éó„Éà„Ç∏„Çß„Éç„É¨„Éº„Çø„Éº V2</h1>
        
        <div class="info-box">
            <h3>üí° ‰Ωø„ÅÑÊñπ</h3>
            <p>1. ‰ΩøÁî®„Åô„ÇãAI„Çµ„Éº„Éì„Çπ„ÇíÈÅ∏Êäû<br>
               2. „Éó„É≠„É≥„Éó„Éà„ÇíÂÖ•Âäõ„Åæ„Åü„ÅØ „ÉÜ„É≥„Éó„É¨„Éº„Éà„Åã„ÇâÈÅ∏Êäû<br>
               3. ÂøÖË¶Å„Å´Âøú„Åò„Å¶Êã°Âºµ„Ç™„Éó„Ç∑„Éß„É≥„ÇíËøΩÂä†<br>
               4. „Äå„Éó„É≠„É≥„Éó„ÉàÁîüÊàê„Äç„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶ÊúÄÈÅ©Âåñ<br>
               5. ÂêÑ„Çµ„Éº„Éì„Çπ„ÅÆ„Çµ„Ç§„Éà„ÅßÁîªÂÉè„ÇíÁîüÊàê</p>
        </div>

        <div class="service-grid">
            <div class="service-card active" data-service="dalle3">
                <div class="service-name">DALL-E 3</div>
                <div class="service-desc">OpenAI / ChatGPT Plus</div>
                <div class="service-features">
                    <span class="feature-tag">È´òÂìÅË≥™</span>
                    <span class="feature-tag">Êó•Êú¨Ë™ûOK</span>
                    <span class="feature-tag">ÁÑ°ÊñôÊû†„ÅÇ„Çä</span>
                </div>
            </div>
            
            <div class="service-card" data-service="midjourney">
                <div class="service-name">Midjourney</div>
                <div class="service-desc">DiscordÁµåÁî±</div>
                <div class="service-features">
                    <span class="feature-tag">„Ç¢„Éº„ÉàÁâπÂåñ</span>
                    <span class="feature-tag">È´òËß£ÂÉèÂ∫¶</span>
                    <span class="feature-tag">ÊúâÊñô</span>
                </div>
            </div>
            
            <div class="service-card" data-service="stable">
                <div class="service-name">Stable Diffusion</div>
                <div class="service-desc">DreamStudio / Civitai</div>
                <div class="service-features">
                    <span class="feature-tag">„Ç´„Çπ„Çø„Éû„Ç§„Ç∫</span>
                    <span class="feature-tag">„É¢„Éá„É´Ë±äÂØå</span>
                    <span class="feature-tag">ÁÑ°ÊñôÂèØ</span>
                </div>
            </div>
            
            <div class="service-card" data-service="bing">
                <div class="service-name">Bing Image Creator</div>
                <div class="service-desc">Microsoft / ÁÑ°Êñô</div>
                <div class="service-features">
                    <span class="feature-tag">ÂÆåÂÖ®ÁÑ°Êñô</span>
                    <span class="feature-tag">DALL-E 3</span>
                    <span class="feature-tag">Á∞°Âçò</span>
                </div>
            </div>
            
            <div class="service-card" data-service="imagen">
                <div class="service-name">Google Imagen 3</div>
                <div class="service-desc">Google AI Test Kitchen</div>
                <div class="service-features">
                    <span class="feature-tag">ÊúÄÊñ∞AI</span>
                    <span class="feature-tag">È´òÂìÅË≥™</span>
                    <span class="feature-tag">ÁÑ°Êñô„ÉÜ„Çπ„Éà</span>
                </div>
            </div>
            
            <div class="service-card" data-service="gemini">
                <div class="service-name">Gemini (Bard)</div>
                <div class="service-desc">Google / ÁîªÂÉèÁîüÊàêÂØæÂøú</div>
                <div class="service-features">
                    <span class="feature-tag">ÁÑ°Êñô</span>
                    <span class="feature-tag">Êó•Êú¨Ë™ûOK</span>
                    <span class="feature-tag">Áµ±ÂêàAI</span>
                </div>
            </div>
        </div>

        <div class="prompt-section">
            <div class="prompt-header">
                <span class="prompt-title">üìù „Éó„É≠„É≥„Éó„ÉàÂÖ•Âäõ</span>
                <button class="template-btn" onclick="showTemplates()">„ÉÜ„É≥„Éó„É¨„Éº„ÉàÈÅ∏Êäû</button>
            </div>
            
            <textarea id="promptInput" class="prompt-input" placeholder="ÁîüÊàê„Åó„Åü„ÅÑÁîªÂÉè„ÅÆË™¨Êòé„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ...

‰æã: Ê°ú„ÅåÊ∫ÄÈñã„ÅÆÊó•Êú¨Â∫≠Âúí„Åß„ÄÅÁùÄÁâ©„ÇíÁùÄ„ÅüÂ•≥ÊÄß„ÅåÂÇò„ÇíÊåÅ„Å£„Å¶Á´ã„Å£„Å¶„ÅÑ„Çã„ÄÇËÉåÊôØ„Å´„ÅØÂØåÂ£´Â±±„ÅåË¶ã„Åà„ÄÅÂ§ïÁÑº„Åë„ÅÆÂÖâ„ÅåÂÖ®‰Ωì„ÇíÁÖß„Çâ„Åó„Å¶„ÅÑ„Çã„ÄÇÂÜôÂÆüÁöÑ„Å™„Çπ„Çø„Ç§„É´„ÄÅ8KËß£ÂÉèÂ∫¶"></textarea>
            
            <div class="enhancement-section">
                <div class="enhancement-title">üéØ Êã°Âºµ„Ç™„Éó„Ç∑„Éß„É≥Ôºà„ÇØ„É™„ÉÉ„ÇØ„ÅßËøΩÂä†Ôºâ</div>
                <div class="enhancement-options">
                    <div class="enhancement-chip" data-text="masterpiece, best quality">ÊúÄÈ´òÂìÅË≥™</div>
                    <div class="enhancement-chip" data-text="ultra detailed, 8k resolution">Ë∂ÖÈ´òËß£ÂÉèÂ∫¶</div>
                    <div class="enhancement-chip" data-text="photorealistic, RAW photo">ÂÜôÂÆüÁöÑ</div>
                    <div class="enhancement-chip" data-text="anime style, cel shading">„Ç¢„Éã„É°È¢®</div>
                    <div class="enhancement-chip" data-text="oil painting style">Ê≤πÁµµÈ¢®</div>
                    <div class="enhancement-chip" data-text="watercolor painting">Ê∞¥ÂΩ©ÁîªÈ¢®</div>
                    <div class="enhancement-chip" data-text="cinematic lighting">Êò†ÁîªÁöÑÁÖßÊòé</div>
                    <div class="enhancement-chip" data-text="golden hour lighting">„Ç¥„Éº„É´„Éá„É≥„Ç¢„ÉØ„Éº</div>
                    <div class="enhancement-chip" data-text="depth of field, bokeh">Ë¢´ÂÜôÁïåÊ∑±Â∫¶</div>
                    <div class="enhancement-chip" data-text="wide angle lens">Â∫ÉËßí„É¨„É≥„Ç∫</div>
                    <div class="enhancement-chip" data-text="macro photography">„Éû„ÇØ„É≠ÊíÆÂΩ±</div>
                    <div class="enhancement-chip" data-text="trending on artstation">„Éà„É¨„É≥„Éâ</div>
                </div>
            </div>
        </div>

        <div class="action-section">
            <button class="action-btn btn-generate" onclick="generateOptimizedPrompt()">
                üöÄ „Éó„É≠„É≥„Éó„ÉàÁîüÊàê
            </button>
            <button class="action-btn btn-copy" onclick="copyPrompt()">
                üìã „Ç≥„Éî„Éº
            </button>
            <button class="action-btn btn-clear" onclick="clearPrompt()">
                üóëÔ∏è „ÇØ„É™„Ç¢
            </button>
        </div>

        <div class="info-box" style="margin-top: 20px;">
            <h3>üîó ÁîªÂÉèÁîüÊàê„Çµ„Éº„Éì„Çπ„Å∏„ÅÆ„É™„É≥„ÇØ</h3>
            <p id="serviceLinks">
                <strong>DALL-E 3:</strong> <a href="https://chat.openai.com" target="_blank">ChatGPT</a> „Åæ„Åü„ÅØ <a href="https://www.bing.com/create" target="_blank">Bing Image Creator</a><br>
                ÁîüÊàê„Åó„Åü„Éó„É≠„É≥„Éó„Éà„Çí„Ç≥„Éî„Éº„Åó„Å¶„ÄÅ‰∏äË®ò„Çµ„Éº„Éì„Çπ„Åß‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
            </p>
        </div>

        <div class="history-section">
            <div class="history-header">
                <span class="history-title">üìö „Éó„É≠„É≥„Éó„ÉàÂ±•Ê≠¥</span>
                <button class="template-btn" onclick="clearHistory()">Â±•Ê≠¥„ÇØ„É™„Ç¢</button>
            </div>
            <div class="history-list" id="historyList">
                <!-- Â±•Ê≠¥„Ç¢„Ç§„ÉÜ„É†„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô -->
            </div>
        </div>
    </div>

    <!-- „ÉÜ„É≥„Éó„É¨„Éº„Éà„É¢„Éº„ÉÄ„É´ -->
    <div class="templates-modal" id="templatesModal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="modal-title">üìö „Éó„É≠„É≥„Éó„Éà„ÉÜ„É≥„Éó„É¨„Éº„Éà</span>
                <button class="modal-close" onclick="hideTemplates()">√ó</button>
            </div>
            <div class="template-list">
                <div class="template-item" onclick="useTemplate('portrait')">
                    <div class="template-name">‰∫∫Áâ©„Éù„Éº„Éà„É¨„Éº„Éà</div>
                    <div class="template-text">„Éó„É≠„Éï„Çß„ÉÉ„Ç∑„Éß„Éä„É´„Å™„Éù„Éº„Éà„É¨„Éº„ÉàÂÜôÁúü„ÄÅ„Çπ„Çø„Ç∏„Ç™„É©„Ç§„ÉÜ„Ç£„É≥„Ç∞„ÄÅËÉåÊôØ„Åº„Åã„Åó„ÄÅÈ´òËß£ÂÉèÂ∫¶„ÄÅÂÜôÂÆüÁöÑ</div>
                </div>
                <div class="template-item" onclick="useTemplate('landscape')">
                    <div class="template-name">È¢®ÊôØÂÜôÁúü</div>
                    <div class="template-text">Â£ÆÂ§ß„Å™Ëá™ÁÑ∂È¢®ÊôØ„ÄÅ„Ç¥„Éº„É´„Éá„É≥„Ç¢„ÉØ„Éº„ÅÆÂÖâ„ÄÅÂ∫ÉËßí„É¨„É≥„Ç∫„ÄÅÈ´ò„ÉÄ„Ç§„Éä„Éü„ÉÉ„ÇØ„É¨„É≥„Ç∏„ÄÅ8KËß£ÂÉèÂ∫¶</div>
                </div>
                <div class="template-item" onclick="useTemplate('anime')">
                    <div class="template-name">„Ç¢„Éã„É°„Ç§„É©„Çπ„Éà</div>
                    <div class="template-text">„Ç¢„Éã„É°„Çπ„Çø„Ç§„É´„ÄÅÁæéÂ∞ëÂ•≥„Ç≠„É£„É©„ÇØ„Çø„Éº„ÄÅ„Ç´„É©„Éï„É´„Å™ËÉåÊôØ„ÄÅ„Éá„Ç∏„Çø„É´„Ç¢„Éº„Éà„ÄÅpixivÈ¢®</div>
                </div>
                <div class="template-item" onclick="useTemplate('concept')">
                    <div class="template-name">„Ç≥„É≥„Çª„Éó„Éà„Ç¢„Éº„Éà</div>
                    <div class="template-text">SF „Ç≥„É≥„Çª„Éó„Éà„Ç¢„Éº„Éà„ÄÅÊú™Êù•ÈÉΩÂ∏Ç„ÄÅ„Éç„Ç™„É≥„É©„Ç§„Éà„ÄÅ„Çµ„Ç§„Éê„Éº„Éë„É≥„ÇØ„ÄÅÊò†ÁîªÁöÑÊßãÂõ≥</div>
                </div>
                <div class="template-item" onclick="useTemplate('product')">
                    <div class="template-name">ÂïÜÂìÅÂÜôÁúü</div>
                    <div class="template-text">„Éó„É≠„ÉÄ„ÇØ„ÉàÂÜôÁúü„ÄÅÁôΩËÉåÊôØ„ÄÅ„Çπ„Çø„Ç∏„Ç™„É©„Ç§„ÉÜ„Ç£„É≥„Ç∞„ÄÅÈ´òÂìÅË≥™„ÄÅÂïÜÊ•≠Áî®„ÄÅÂΩ±‰ªò„Åç</div>
                </div>
                <div class="template-item" onclick="useTemplate('food')">
                    <div class="template-name">ÊñôÁêÜÂÜôÁúü</div>
                    <div class="template-text">ÁæéÂë≥„Åó„Åù„ÅÜ„Å™ÊñôÁêÜ„ÄÅËá™ÁÑ∂ÂÖâ„ÄÅÊú®Ë£Ω„ÉÜ„Éº„Éñ„É´„ÄÅ„Éó„É≠„Éï„Çß„ÉÉ„Ç∑„Éß„Éä„É´„Éï„Éº„Éâ„Éï„Ç©„Éà„Ç∞„É©„Éï„Ç£„Éº</div>
                </div>
                <div class="template-item" onclick="useTemplate('architecture')">
                    <div class="template-name">Âª∫ÁØâÂÜôÁúü</div>
                    <div class="template-text">„É¢„ÉÄ„É≥Âª∫ÁØâ„ÄÅÂπæ‰ΩïÂ≠¶ÁöÑÊßãÂõ≥„ÄÅÈùíÁ©∫„ÄÅÂª∫ÁØâÂÜôÁúü„ÄÅÂ∫ÉËßí„É¨„É≥„Ç∫„ÄÅÈ´ò„Ç≥„É≥„Éà„É©„Çπ„Éà</div>
                </div>
                <div class="template-item" onclick="useTemplate('fantasy')">
                    <div class="template-name">„Éï„Ç°„É≥„Çø„Ç∏„Éº„Ç¢„Éº„Éà</div>
                    <div class="template-text">„Éï„Ç°„É≥„Çø„Ç∏„Éº„Ç¢„Éº„Éà„ÄÅÈ≠îÊ≥ï„ÅÆ‰∏ñÁïå„ÄÅ„Éâ„É©„Ç¥„É≥„ÄÅÂüé„ÄÅÁ•ûÁßòÁöÑ„Å™Èõ∞Âõ≤Ê∞ó„ÄÅ„Éá„Ç∏„Çø„É´„Éö„Ç§„É≥„ÉÜ„Ç£„É≥„Ç∞</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentService = 'dalle3';
        let promptHistory = [];

        // „Çµ„Éº„Éì„ÇπÈÅ∏Êäû
        document.querySelectorAll('.service-card').forEach(card => {
            card.addEventListener('click', function() {
                document.querySelectorAll('.service-card').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                currentService = this.dataset.service;
                updateServiceLinks();
            });
        });

        // Êã°Âºµ„Ç™„Éó„Ç∑„Éß„É≥ÈÅ∏Êäû
        document.querySelectorAll('.enhancement-chip').forEach(chip => {
            chip.addEventListener('click', function() {
                this.classList.toggle('selected');
                updatePromptWithEnhancements();
            });
        });

        // „Éó„É≠„É≥„Éó„Éà„Å´Êã°Âºµ„Ç™„Éó„Ç∑„Éß„É≥„ÇíËøΩÂä†
        function updatePromptWithEnhancements() {
            const basePrompt = document.getElementById('promptInput').value.split(',')[0];
            const selectedEnhancements = Array.from(document.querySelectorAll('.enhancement-chip.selected'))
                .map(chip => chip.dataset.text);
            
            if (selectedEnhancements.length > 0) {
                document.getElementById('promptInput').value = basePrompt + ', ' + selectedEnhancements.join(', ');
            }
        }

        // „Çµ„Éº„Éì„Çπ„É™„É≥„ÇØÊõ¥Êñ∞
        function updateServiceLinks() {
            const linksElement = document.getElementById('serviceLinks');
            const links = {
                dalle3: '<strong>DALL-E 3:</strong> <a href="https://chat.openai.com" target="_blank">ChatGPT</a> „Åæ„Åü„ÅØ <a href="https://www.bing.com/create" target="_blank">Bing Image Creator</a>',
                midjourney: '<strong>Midjourney:</strong> <a href="https://discord.com/channels/@me" target="_blank">Discord</a> „Åß /imagine „Ç≥„Éû„É≥„Éâ„Çí‰ΩøÁî®',
                stable: '<strong>Stable Diffusion:</strong> <a href="https://dreamstudio.ai" target="_blank">DreamStudio</a> „Åæ„Åü„ÅØ <a href="https://civitai.com" target="_blank">Civitai</a>',
                bing: '<strong>Bing Image Creator:</strong> <a href="https://www.bing.com/create" target="_blank">ÁÑ°Êñô„ÅßÂà©Áî®ÂèØËÉΩ</a>',
                imagen: '<strong>Google Imagen 3:</strong> <a href="https://aitestkitchen.withgoogle.com" target="_blank">AI Test Kitchen</a> „ÅßÂà©Áî®ÂèØËÉΩÔºàÊãõÂæÖÂà∂Ôºâ',
                gemini: '<strong>Gemini (ÊóßBard):</strong> <a href="https://gemini.google.com" target="_blank">Gemini</a> „ÅßÁîªÂÉèÁîüÊàêÊ©üËÉΩ„ÇíÂà©Áî®'
            };
            linksElement.innerHTML = links[currentService] + '<br>ÁîüÊàê„Åó„Åü„Éó„É≠„É≥„Éó„Éà„Çí„Ç≥„Éî„Éº„Åó„Å¶„ÄÅ‰∏äË®ò„Çµ„Éº„Éì„Çπ„Åß‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ';
        }

        // „Éó„É≠„É≥„Éó„ÉàÊúÄÈÅ©Âåñ
        function generateOptimizedPrompt() {
            const input = document.getElementById('promptInput').value;
            if (!input) {
                alert('„Éó„É≠„É≥„Éó„Éà„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
                return;
            }

            let optimized = input;

            // „Çµ„Éº„Éì„Çπ„Åî„Å®„ÅÆÊúÄÈÅ©Âåñ
            if (currentService === 'midjourney') {
                // Midjourney„ÅØÁü≠„ÅÑ„Éó„É≠„É≥„Éó„Éà„ÇíÂ•Ω„ÇÄ
                optimized = input.split(',').slice(0, 5).join(',') + ' --v 6 --ar 16:9';
            } else if (currentService === 'stable') {
                // Stable Diffusion„ÅØ„Éç„Ç¨„ÉÜ„Ç£„Éñ„Éó„É≠„É≥„Éó„Éà„ÇÇÈáçË¶Å
                optimized = input + '\nNegative prompt: low quality, blurry, distorted, ugly, bad anatomy';
            } else if (currentService === 'dalle3') {
                // DALL-E 3„ÅØËá™ÁÑ∂Ë®ÄË™û„ÇíÁêÜËß£
                optimized = 'Ê¨°„ÅÆË¶ÅÁ¥†„ÇíÂê´„ÇÄÈ´òÂìÅË≥™„Å™ÁîªÂÉè„ÇíÁîüÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ: ' + input;
            } else if (currentService === 'imagen') {
                // Google Imagen 3„ÅØË©≥Á¥∞„Å™Ë™¨Êòé„ÇíÂ•Ω„ÇÄ
                optimized = 'A highly detailed image of: ' + input + ', photorealistic, professional photography';
            } else if (currentService === 'gemini') {
                // Gemini„ÅØ‰ºöË©±ÂΩ¢Âºè„ÅßÊåáÁ§∫
                optimized = '‰ª•‰∏ã„ÅÆÁâπÂæ¥„ÇíÊåÅ„Å§ÁîªÂÉè„ÇíÁîüÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ:\n' + input + '\nÈ´òËß£ÂÉèÂ∫¶„ÅßÁæé„Åó„ÅÑ‰ªï‰∏ä„Åå„Çä„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ';
            }

            document.getElementById('promptInput').value = optimized;
            
            // Â±•Ê≠¥„Å´‰øùÂ≠ò
            saveToHistory(optimized);
            
            // Ëá™Âãï„Ç≥„Éî„Éº
            copyPrompt();
            
            alert('„Éó„É≠„É≥„Éó„Éà„ÇíÊúÄÈÅ©Âåñ„Åó„Åæ„Åó„ÅüÔºÅ„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„ÉºÊ∏à„Åø„Åß„Åô„ÄÇ');
        }

        // „Ç≥„Éî„ÉºÊ©üËÉΩ
        function copyPrompt() {
            const prompt = document.getElementById('promptInput').value;
            if (!prompt) {
                alert('„Ç≥„Éî„Éº„Åô„Çã„Éó„É≠„É≥„Éó„Éà„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
                return;
            }
            
            navigator.clipboard.writeText(prompt).then(() => {
                alert('„Éó„É≠„É≥„Éó„Éà„Çí„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„Éº„Åó„Åæ„Åó„ÅüÔºÅ');
            }).catch(err => {
                alert('„Ç≥„Éî„Éº„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
            });
        }

        // „ÇØ„É™„Ç¢
        function clearPrompt() {
            if (confirm('„Éó„É≠„É≥„Éó„Éà„Çí„ÇØ„É™„Ç¢„Åó„Åæ„Åô„ÅãÔºü')) {
                document.getElementById('promptInput').value = '';
                document.querySelectorAll('.enhancement-chip').forEach(chip => {
                    chip.classList.remove('selected');
                });
            }
        }

        // „ÉÜ„É≥„Éó„É¨„Éº„ÉàË°®Á§∫
        function showTemplates() {
            document.getElementById('templatesModal').classList.add('active');
        }

        // „ÉÜ„É≥„Éó„É¨„Éº„ÉàÈùûË°®Á§∫
        function hideTemplates() {
            document.getElementById('templatesModal').classList.remove('active');
        }

        // „ÉÜ„É≥„Éó„É¨„Éº„Éà‰ΩøÁî®
        function useTemplate(type) {
            const templates = {
                portrait: '„Éó„É≠„Éï„Çß„ÉÉ„Ç∑„Éß„Éä„É´„Å™„Éù„Éº„Éà„É¨„Éº„ÉàÂÜôÁúü„ÄÅËã•„ÅÑÊó•Êú¨‰∫∫Â•≥ÊÄß„ÄÅËá™ÁÑ∂„Å™Á¨ëÈ°î„ÄÅ„Çπ„Çø„Ç∏„Ç™„É©„Ç§„ÉÜ„Ç£„É≥„Ç∞„ÄÅËÉåÊôØ„Åº„Åã„Åó„ÄÅÈ´òËß£ÂÉèÂ∫¶„ÄÅÂÜôÂÆüÁöÑ„ÄÅ85mm „É¨„É≥„Ç∫',
                landscape: 'Â£ÆÂ§ß„Å™Ëá™ÁÑ∂È¢®ÊôØ„ÄÅÂØåÂ£´Â±±„Å®Ê°ú„ÄÅÊò•„ÅÆÊúù„ÄÅ„Ç¥„Éº„É´„Éá„É≥„Ç¢„ÉØ„Éº„ÅÆÂÖâ„ÄÅÂ∫ÉËßí„É¨„É≥„Ç∫„ÄÅÈ´ò„ÉÄ„Ç§„Éä„Éü„ÉÉ„ÇØ„É¨„É≥„Ç∏„ÄÅ8KËß£ÂÉèÂ∫¶„ÄÅNational Geographic „Çπ„Çø„Ç§„É´',
                anime: '„Ç¢„Éã„É°„Çπ„Çø„Ç§„É´„ÄÅÁæéÂ∞ëÂ•≥„Ç≠„É£„É©„ÇØ„Çø„Éº„ÄÅÂ≠¶ÂúíÂà∂Êúç„ÄÅÊ°ú„ÅÆËä±„Å≥„Çâ„ÅåËàû„ÅÜ„ÄÅ„Ç´„É©„Éï„É´„Å™ËÉåÊôØ„ÄÅ„Éá„Ç∏„Çø„É´„Ç¢„Éº„Éà„ÄÅpixivÈ¢®„ÄÅÈ´òÂìÅË≥™„Ç§„É©„Çπ„Éà',
                concept: 'SF „Ç≥„É≥„Çª„Éó„Éà„Ç¢„Éº„Éà„ÄÅÊú™Êù•„ÅÆÊù±‰∫¨„ÄÅ„Éç„Ç™„É≥„É©„Ç§„Éà„ÄÅÁ©∫È£õ„Å∂Ëªä„ÄÅ„Çµ„Ç§„Éê„Éº„Éë„É≥„ÇØ„ÄÅÈõ®„ÅÆÂ§ú„ÄÅÊò†ÁîªÁöÑÊßãÂõ≥„ÄÅBlade RunnerÈ¢®',
                product: '„Éó„É≠„ÉÄ„ÇØ„ÉàÂÜôÁúü„ÄÅÊúÄÊñ∞„Çπ„Éû„Éº„Éà„Éï„Ç©„É≥„ÄÅÁôΩËÉåÊôØ„ÄÅ„Çπ„Çø„Ç∏„Ç™„É©„Ç§„ÉÜ„Ç£„É≥„Ç∞„ÄÅÂèçÂ∞Ñ„ÅÇ„Çä„ÄÅÈ´òÂìÅË≥™„ÄÅÂïÜÊ•≠Áî®„ÄÅApple „Çπ„Çø„Ç§„É´',
                food: 'ÁæéÂë≥„Åó„Åù„ÅÜ„Å™ÂØøÂè∏„Çª„ÉÉ„Éà„ÄÅÈ´òÁ¥ö„É¨„Çπ„Éà„É©„É≥„ÄÅËá™ÁÑ∂ÂÖâ„ÄÅÊú®Ë£Ω„Ç´„Ç¶„É≥„Çø„Éº„ÄÅ„Éó„É≠„Éï„Çß„ÉÉ„Ç∑„Éß„Éä„É´„Éï„Éº„Éâ„Éï„Ç©„Éà„Ç∞„É©„Éï„Ç£„Éº„ÄÅÊµÖ„ÅÑË¢´ÂÜôÁïåÊ∑±Â∫¶',
                architecture: '„É¢„ÉÄ„É≥Êó•Êú¨Âª∫ÁØâ„ÄÅÂÆâËó§Âø†ÈõÑ„Çπ„Çø„Ç§„É´„ÄÅ„Ç≥„É≥„ÇØ„É™„Éº„Éà„ÄÅÂπæ‰ΩïÂ≠¶ÁöÑÊßãÂõ≥„ÄÅÈùíÁ©∫„ÄÅÂª∫ÁØâÂÜôÁúü„ÄÅÂ∫ÉËßí„É¨„É≥„Ç∫„ÄÅÈ´ò„Ç≥„É≥„Éà„É©„Çπ„Éà',
                fantasy: '„Éï„Ç°„É≥„Çø„Ç∏„Éº„Ç¢„Éº„Éà„ÄÅÊó•Êú¨„ÅÆÂ¶ñÊÄ™„ÄÅÁ•ûÁßòÁöÑ„Å™Ê£Æ„ÄÅÊúàÂÖâ„ÄÅÈúß„ÄÅ„Éá„Ç∏„Çø„É´„Éö„Ç§„É≥„ÉÜ„Ç£„É≥„Ç∞„ÄÅStudio GhibliÈ¢®„ÄÅÂπªÊÉ≥ÁöÑ„Å™Èõ∞Âõ≤Ê∞ó'
            };
            
            document.getElementById('promptInput').value = templates[type];
            hideTemplates();
        }

        // Â±•Ê≠¥‰øùÂ≠ò
        function saveToHistory(prompt) {
            const historyItem = {
                prompt: prompt,
                service: currentService,
                timestamp: new Date().toISOString()
            };
            
            promptHistory.unshift(historyItem);
            promptHistory = promptHistory.slice(0, 20); // ÊúÄÊñ∞20‰ª∂„ÅÆ„Åø‰øùÊåÅ
            
            localStorage.setItem('prompt-history', JSON.stringify(promptHistory));
            updateHistoryDisplay();
        }

        // Â±•Ê≠¥Ë°®Á§∫Êõ¥Êñ∞
        function updateHistoryDisplay() {
            const historyList = document.getElementById('historyList');
            
            if (promptHistory.length === 0) {
                historyList.innerHTML = '<div style="text-align: center; color: #999;">Â±•Ê≠¥„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</div>';
                return;
            }
            
            historyList.innerHTML = promptHistory.map((item, index) => `
                <div class="history-item" onclick="loadFromHistory(${index})">
                    <div class="history-prompt">${item.prompt}</div>
                    <div class="history-meta">
                        <span>${item.service.toUpperCase()}</span>
                        <span>${new Date(item.timestamp).toLocaleString('ja-JP')}</span>
                    </div>
                </div>
            `).join('');
        }

        // Â±•Ê≠¥„Åã„ÇâË™≠„ÅøËæº„Åø
        function loadFromHistory(index) {
            const item = promptHistory[index];
            document.getElementById('promptInput').value = item.prompt;
            
            // „Çµ„Éº„Éì„Çπ„ÇÇÂàá„ÇäÊõø„Åà
            document.querySelectorAll('.service-card').forEach(card => {
                card.classList.remove('active');
                if (card.dataset.service === item.service) {
                    card.classList.add('active');
                }
            });
            currentService = item.service;
            updateServiceLinks();
        }

        // Â±•Ê≠¥„ÇØ„É™„Ç¢
        function clearHistory() {
            if (confirm('Â±•Ê≠¥„Çí„Åô„Åπ„Å¶ÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü')) {
                promptHistory = [];
                localStorage.removeItem('prompt-history');
                updateHistoryDisplay();
            }
        }

        // ÂàùÊúüÂåñ
        window.addEventListener('load', () => {
            // Â±•Ê≠¥Ë™≠„ÅøËæº„Åø
            const saved = localStorage.getItem('prompt-history');
            if (saved) {
                promptHistory = JSON.parse(saved);
                updateHistoryDisplay();
            }
            
            // „Çµ„Éº„Éì„Çπ„É™„É≥„ÇØÂàùÊúüË°®Á§∫
            updateServiceLinks();
        });

        // „É¢„Éº„ÉÄ„É´Â§ñ„ÇØ„É™„ÉÉ„ÇØ„ÅßÈñâ„Åò„Çã
        document.getElementById('templatesModal').addEventListener('click', function(e) {
            if (e.target === this) {
                hideTemplates();
            }
        });
    </script>
    <!-- Êñ∞Ê©üËÉΩ: Ëá™Âãï‰øùÂ≠ò„ÄÅ„Ç®„É©„ÉºË°®Á§∫„ÄÅÂÖ±ÈÄöÈñ¢Êï∞ -->
    <script src="../js/auto-save.js"></script>
    <script src="../js/toast.js"></script>
    <script src="../js/common.js"></script>
    <!-- API„Ç≠„ÉºËá™ÂãïË™≠„ÅøËæº„Åø -->
    <script src="../40_settings/api-config.js"></script>
</body>
</html>